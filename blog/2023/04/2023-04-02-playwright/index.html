<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="naver-site-verification" content="ab246841529a97bcf76ac7ed42d5a5c457a381bc"/><meta data-react-helmet="true" name="google-site-verification" content="DafIPWtLpIjdEIuERhMFfutDl2IoaF8b6CQTBYF6qsQ"/><meta data-react-helmet="true" name="twitter:image" content="https://seungahhong.github.io/static/b830d53e6576e2d3cb683d59816de81a/ee604/main.png"/><meta data-react-helmet="true" name="twitter:creator" content="seungah.hong"/><meta data-react-helmet="true" name="twitter:site" content="seungah.hong"/><meta data-react-helmet="true" name="twitter:description" content="홍승아 기술 블로그에 오신걸 환영합니다."/><meta data-react-helmet="true" name="twitter:title" content="홍승아 기술 블로그"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:image" content="https://seungahhong.github.io/static/b830d53e6576e2d3cb683d59816de81a/ee604/main.png"/><meta data-react-helmet="true" property="og:site_name" content="홍승아 기술 블로그"/><meta data-react-helmet="true" property="og:url" content="https://seungahhong.github.io"/><meta data-react-helmet="true" property="og:description" content="홍승아 기술 블로그에 오신걸 환영합니다."/><meta data-react-helmet="true" property="og:title" content="홍승아 기술 블로그"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" name="description" content="홍승아 기술 블로그에 오신걸 환영합니다."/><meta name="generator" content="Gatsby 4.14.1"/><style data-href="/styles.0109ae7f897db2fecdd6.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><title data-react-helmet="true">홍승아 기술 블로그</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style data-styled="" data-styled-version="5.3.5">.pcuhR{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;margin:0 auto;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;max-width:1024px;}/*!sc*/
@media (max-width:1024px){.pcuhR{margin:0;}}/*!sc*/
data-styled.g1[id="PostContent__PostWrapper-sc-9jovib-0"]{content:"pcuhR,"}/*!sc*/
.cHdfpx{border-bottom:1px solid #e6e6e6;}/*!sc*/
.cHdfpx > div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:0 auto;max-width:1024px;padding:0 20px;}/*!sc*/
@media (max-width:1024px){.cHdfpx > div{margin:0;min-width:auto;}}/*!sc*/
.cHdfpx h1{font-size:24px;margin:12px 0 8px;}/*!sc*/
data-styled.g2[id="PostContent__PostHeadWrapper-sc-9jovib-1"]{content:"cHdfpx,"}/*!sc*/
.kEmWTx{width:80%;}/*!sc*/
@media (max-width:1024px){.kEmWTx{width:100%;}}/*!sc*/
data-styled.g3[id="PostContent__PostContentWrapper-sc-9jovib-2"]{content:"kEmWTx,"}/*!sc*/
.dlUvrB{padding:0 20px;margin-bottom:48px;}/*!sc*/
.dlUvrB > h1{margin-bottom:8px;font-size:40px;}/*!sc*/
data-styled.g4[id="PostContent__PostTitle-sc-9jovib-3"]{content:"dlUvrB,"}/*!sc*/
.bIaAsx{display:inline-block;margin:12px 0 0 10px;position:-webkit-sticky;position:sticky;top:0;left:10px;-webkit-transition:all 0.125s esse-in 0s;transition:all 0.125s esse-in 0s;min-width:200px;color:rgba(0,0,0,0.4);padding:0 0.75rem;border-left:2px solid gray;}/*!sc*/
.bIaAsx ul{list-style:none;}/*!sc*/
.bIaAsx ul li{margin-top:5px;}/*!sc*/
.bIaAsx ul li a{display:inline-block;}/*!sc*/
.bIaAsx ul li a.reach{color:#000000;-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}/*!sc*/
.bIaAsx ul ul{margin-left:12px;}/*!sc*/
@media (max-width:1024px){.bIaAsx{display:none;}}/*!sc*/
data-styled.g5[id="PostContent__TocRenderer-sc-9jovib-4"]{content:"bIaAsx,"}/*!sc*/
.Lmopp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;word-break:keep-all;margin-bottom:250px;padding:0 20px;width:100%;line-height:1.8;font-size:16px;font-weight:400;}/*!sc*/
@media (max-width:1024px){.Lmopp{margin-bottom:48px;}}/*!sc*/
.Lmopp p{padding:3px 0;}/*!sc*/
.Lmopp h1,.Lmopp h2,.Lmopp h3{font-weight:800;}/*!sc*/
.Lmopp * + h1{margin-top:60px;}/*!sc*/
.Lmopp * + h2{margin-top:40px;}/*!sc*/
.Lmopp * + h3{margin-top:30px;}/*!sc*/
.Lmopp hr + h1,.Lmopp hr + h2,.Lmopp hr + h3{margin-top:0;}/*!sc*/
.Lmopp h1{font-size:30px;}/*!sc*/
.Lmopp h2{font-size:25px;}/*!sc*/
.Lmopp h3{font-size:20px;}/*!sc*/
.Lmopp blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}/*!sc*/
.Lmopp ol,.Lmopp ul{margin-left:20px;padding:10px 0;}/*!sc*/
.Lmopp hr{border:1px solid #000000;margin:100px 0;}/*!sc*/
.Lmopp a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.Lmopp pre[class*='language-']{margin:30px 0;padding:15px;font-size:15px;}/*!sc*/
.Lmopp pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.5);border-radius:3px;}/*!sc*/
.Lmopp code[class*='language-'],.Lmopp pre[class*='language-']{tab-size:2;}/*!sc*/
.Lmopp img{width:100%;}/*!sc*/
.Lmopp summary{cursor:pointer;font-size:24px;}/*!sc*/
data-styled.g6[id="PostContent__MarkdownRenderer-sc-9jovib-5"]{content:"Lmopp,"}/*!sc*/
.ffkTpb{margin:40px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;list-style:none;padding:0 20px;}/*!sc*/
.ffkTpb h5{font-size:24px;margin-bottom:8px;}/*!sc*/
.ffkTpb a{border-radius:6px;font-size:20px;color:#cc007a;font-weight:700;}/*!sc*/
data-styled.g7[id="PostContent__PostNavigator-sc-9jovib-6"]{content:"ffkTpb,"}/*!sc*/
.eIcbrr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:rgba(255,255,255,0.7);color:#161b21;width:40px;height:40px;min-width:40px;font-size:20px;border:none;border-radius:50%;}/*!sc*/
.eIcbrr > img{width:35px;height:35px;}/*!sc*/
data-styled.g8[id="PostContent__SocialLink-sc-9jovib-7"]{content:"eIcbrr,"}/*!sc*/
.cKqBUF{display:grid;place-items:center;margin-top:auto;margin-left:0;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}/*!sc*/
@media (max-width:1024px){.cKqBUF{margin-left:0;}}/*!sc*/
data-styled.g16[id="Footer__FooterWrapper-sc-rphy7j-0"]{content:"cKqBUF,"}/*!sc*/
html{line-height:1.15;-webkit-text-size-adjust:100%;}/*!sc*/
body{margin:0;}/*!sc*/
main{display:block;}/*!sc*/
h1{font-size:2em;margin:0.67em 0;}/*!sc*/
hr{box-sizing:content-box;height:0;overflow:visible;}/*!sc*/
pre{font-family:monospace,monospace;font-size:1em;}/*!sc*/
a{background-color:transparent;}/*!sc*/
abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}/*!sc*/
b,strong{font-weight:bolder;}/*!sc*/
code,kbd,samp{font-family:monospace,monospace;font-size:1em;}/*!sc*/
small{font-size:80%;}/*!sc*/
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}/*!sc*/
sub{bottom:-0.25em;}/*!sc*/
sup{top:-0.5em;}/*!sc*/
img{border-style:none;}/*!sc*/
button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}/*!sc*/
button,input{overflow:visible;}/*!sc*/
button,select{text-transform:none;}/*!sc*/
button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}/*!sc*/
button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}/*!sc*/
button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}/*!sc*/
fieldset{padding:0.35em 0.75em 0.625em;}/*!sc*/
legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}/*!sc*/
progress{vertical-align:baseline;}/*!sc*/
textarea{overflow:auto;}/*!sc*/
[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}/*!sc*/
[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}/*!sc*/
[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}/*!sc*/
[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}/*!sc*/
::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}/*!sc*/
details{display:block;}/*!sc*/
summary{display:list-item;}/*!sc*/
template{display:none;}/*!sc*/
[hidden]{display:none;}/*!sc*/
*{padding:0;margin:0;box-sizing:border-box;}/*!sc*/
html,body,#___gatsby{height:100%;word-break:keep-all;overflow-wrap:break-word;}/*!sc*/
#gatsby-focus-wrapper{height:100%;}/*!sc*/
a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}/*!sc*/
.utterances{max-width:1024px;margin:0 auto;}/*!sc*/
data-styled.g18[id="sc-global-dhQtTb1"]{content:"sc-global-dhQtTb1,"}/*!sc*/
.Kcdb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}/*!sc*/
data-styled.g19[id="Template__Container-sc-1a9t0ug-0"]{content:"Kcdb,"}/*!sc*/
</style><style type="text/css">
    .custom-class.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .custom-class.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .custom-class svg,
    h2 .custom-class svg,
    h3 .custom-class svg,
    h4 .custom-class svg,
    h5 .custom-class svg,
    h6 .custom-class svg {
      visibility: hidden;
    }
    h1:hover .custom-class svg,
    h2:hover .custom-class svg,
    h3:hover .custom-class svg,
    h4:hover .custom-class svg,
    h5:hover .custom-class svg,
    h6:hover .custom-class svg,
    h1 .custom-class:focus svg,
    h2 .custom-class:focus svg,
    h3 .custom-class:focus svg,
    h4 .custom-class:focus svg,
    h5 .custom-class:focus svg,
    h6 .custom-class:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://seungahhong.github.io/blog/2023/04/2023-04-02-playwright/" data-baseprotocol="https:" data-basehost="seungahhong.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-TYGQRJE1B8', 'auto', {});
      
      
      
      
      
      }</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-G8Z1HZWWYL"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-G8Z1HZWWYL', {"send_page_view":false});
      }
      </script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Template__Container-sc-1a9t0ug-0 Kcdb"><header class="PostContent__PostHeadWrapper-sc-9jovib-1 cHdfpx"><div><a href="/"><h1>홍승아블로그</h1></a><a href="https://github.com/seungahhong" rel="noopener noreferrer" title="notion" target="_blank" size="35" class="PostContent__SocialLink-sc-9jovib-7 eIcbrr"><img src="/static/4a6687a74051de2b3536e95d0b6c992a/github.svg" alt="Github Link Image"/></a></div></header><div class="PostContent__PostWrapper-sc-9jovib-0 pcuhR"><div class="PostContent__PostContentWrapper-sc-9jovib-2 kEmWTx"><div class="PostContent__PostTitle-sc-9jovib-3 dlUvrB"><h1>Playwright</h1><time>2023.04.02</time></div><article class="PostContent__MarkdownRenderer-sc-9jovib-5 Lmopp"><h1 id="들어가기-전에-vs-cypress" style="position:relative;"><a href="#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0-%EC%A0%84%EC%97%90-vs-cypress" aria-label="들어가기 전에 vs cypress permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>들어가기 전에.. (vs. Cypress)</h1>
<h2 id="cypress에서-playwright로-왜-넘어갔나" style="position:relative;"><a href="#cypress%EC%97%90%EC%84%9C-playwright%EB%A1%9C-%EC%99%9C-%EB%84%98%EC%96%B4%EA%B0%94%EB%82%98" aria-label="cypress에서 playwright로 왜 넘어갔나 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cypress에서 Playwright로 왜 넘어갔나??</h2>
<h3 id="cypress-개발-시-어려움-점" style="position:relative;"><a href="#cypress-%EA%B0%9C%EB%B0%9C-%EC%8B%9C-%EC%96%B4%EB%A0%A4%EC%9B%80-%EC%A0%90" aria-label="cypress 개발 시 어려움 점 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cypress 개발 시 어려움 점</h3>
<ul>
<li>테스트 환경 로딩, 테스트 수행 시 너무 많은 시간이 소요한다는 느낌을 받았습니다.</li>
<li>테스트 환경에서 엘리먼트를 Cypress 선택 시 못 찾는 경우가 다수 발생했고, 원인을 찾을 수 없었습니다.</li>
<li>Cypress 만에 문법이 FE 개발자분들에게 익숙하지 않았습니다.</li>
<li>테스트 속도 개선을 위해서 병렬 테스트 하고 싶어도 추가적인 금액을 지불해야하는 어려움이 있었습니다.</li>
</ul>
<p>→ 해당 어려움을 극복하기 위해서 다른 테스트 라이브러리를 찾아보게 되었고, 찾던 중에 위에 어려움점을 해결해 줄 수 있는 라이브러리를 하나를 발견하게 되었습니다. 바로, 마이크로소프트에서 만든 Playwright 입니다.</p>
<h3 id="cypress-vs-playwright" style="position:relative;"><a href="#cypress-vs-playwright" aria-label="cypress vs playwright permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cypress vs Playwright</h3>
<ul>
<li>테스트 속도 비교
<ul>
<li>e2e 테스트 고립을 위해서 링크 이동부터 진행 할 경우 spec 1개 기준으로는 볼 경우 Cypress 보다는 엄청 빠르진 않았다.
<ul>
<li>단, 병렬로 실행할 경우 case 가 많아 질 경우 테스트 속도가 빨라지는 걸 느낄 수 있었다.</li>
<li><a href="https://emewjin.github.io/playwright-vs-cypress/#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%86%8D%EB%8F%84%EA%B0%80-cypress%EB%B3%B4%EB%8B%A4-%EC%A7%84%EC%A7%9C-%EB%8D%94-%EB%B9%A0%EB%A5%BC%EA%B9%8C" target="_blank" rel="nofollow">https://emewjin.github.io/playwright-vs-cypress/#테스트-속도가-cypress보다-진짜-더-빠를까</a></li>
</ul>
</li>
<li>Playwright beforeAll 함수를 제공하고 있어서 SPA 구조로 되어 있는 웹에서는 초기에 링크 이동 후 page.goBack() 이동 시 beforeEach 대비해서 테스트 속도가 빨라지는 걸 느낄 수 있었다.(단, beforeAll에서는 page 얻어올 수 없어서 새로 만들어야하는데 그럴 경우 병렬 실행을 할 수가 없었다)</li>
<li>회사에 프로젝트에 추가해 본 결과 대략 5배 정도 빨리진다는 걸 알 수 있었습니다.</li>
</ul>
</li>
<li>테스트 지원 환경
<ul>
<li>Playwright
<ul>
<li>크로미움 기반 브라우저, 파이어폭스, <strong>사파리 지원</strong></li>
<li><strong>모바일 브라우저 제공</strong></li>
<li><strong>실험모드: 안드로이드 크롬/웹뷰, Electron 지원예정</strong></li>
</ul>
</li>
<li>Cypress
<ul>
<li>크로미움 기반의 브라우저, 파이어폭스 2가지만 지원</li>
</ul>
</li>
</ul>
</li>
<li>병렬 테스트 지원
<ul>
<li>Playwright
<ul>
<li><strong>모든 테스트를 병렬로 진행</strong></li>
<li><strong>최대 4개까지 worker thread 세팅 가능</strong>
<ul>
<li>단 worker thread 지정 시 테스트 단위로 고립해서 작성이 필수!!</li>
</ul>
</li>
</ul>
</li>
<li>Cypress
<ul>
<li>모든 테스트를 직렬로 진행</li>
<li>단, 병렬 테스트 진행 시 유료 플랜을 가입해야지 CI/CD 환경에서 별렬 테스트를 수행 가능 → 돈을 내야해요ㅜㅜ)</li>
</ul>
</li>
</ul>
</li>
<li>많은 이벤트 지원
<ul>
<li>hover, drag 지원(cypress 미지원)</li>
</ul>
</li>
<li>문법
<ul>
<li>지원하는 언어에 대한 순수 문법을 지원한다.(cypress에서는 자체 문법을 제공)
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f3a5a1166bbc45eedaf494be709f95ac/e6c4b/Untitled.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACA0lEQVR42lWS/U7iQBTFeQClBQpMvwuUD9tOodAWARViXDUhamI2u+//JL9Np1vUP05m5ubec8+5c1s9d4XhZRjeir6f0fcyhsGGQbBW8epexTQzQbckmpWgm/IHLjFL0rLDkvL4gSyfKR/ekbsXitMbp9e/rPdnji9/yO/fuB5GqqAhvbIihYZMnRVhW8Squ2bG6CJhMXxkJk7otrwQdCqSKkfEtEXEQKxJhs8Khrmi/V2h4awwx1uMcclwdsBxd6qgblKjbSb07CVivKUXFhjBBtMsFDo/xpDQGoxyJvmZWXJHJA/ojuRKRBcy/b+6jp0yu30jyJ8x5iVtO+HajH40rhX6GeP0iBfmCG+J4S7pu/XZWG3mZkUnRptX7PSB6jOrJh1bKjSNW1XQnmyxwpKBIxFuinClIu866TeVMV2/YHH/m/nug3Dzi3h9TxRtcSc5WmO56y4ZJXd48hEzOeLKB9z0hFjs0cSXZd1KGY4LzEmh1FUu+k6q0HPSL4WavWSePzEvz4S37yTbJ/Xuj4uLutqyRIxy7OkOa77DCnOcsMSZFoggU27UDCvLfSej42SoFRKx2rnqrsgqUpGotx/umWYvTA+f3OzPLLaviMWdyr8exiqn5c13+Is91YJrZq2kUVWRaX6GNsnRZyXdYK2sd91akRUWqja4OeDf7HFnt/wDtFk3Bax2n8wAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/f3a5a1166bbc45eedaf494be709f95ac/4fae8/Untitled.webp 256w,
/static/f3a5a1166bbc45eedaf494be709f95ac/2bf0f/Untitled.webp 512w,
/static/f3a5a1166bbc45eedaf494be709f95ac/d71bc/Untitled.webp 1024w,
/static/f3a5a1166bbc45eedaf494be709f95ac/a8626/Untitled.webp 1472w"
              sizes="(max-width: 1024px) 100vw, 1024px"
              type="image/webp"
            />
          <source
            srcset="/static/f3a5a1166bbc45eedaf494be709f95ac/e3135/Untitled.png 256w,
/static/f3a5a1166bbc45eedaf494be709f95ac/06341/Untitled.png 512w,
/static/f3a5a1166bbc45eedaf494be709f95ac/42a19/Untitled.png 1024w,
/static/f3a5a1166bbc45eedaf494be709f95ac/e6c4b/Untitled.png 1472w"
            sizes="(max-width: 1024px) 100vw, 1024px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/f3a5a1166bbc45eedaf494be709f95ac/42a19/Untitled.png"
            alt="Untitled"
            title="Untitled"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></li>
</ul>
</li>
</ul>
<h1 id="playwright-소개" style="position:relative;"><a href="#playwright-%EC%86%8C%EA%B0%9C" aria-label="playwright 소개 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Playwright 소개</h1>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 457px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ca09f0fc555f77a18084aed28e9ecf56/4c61e/Untitled_1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 35.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABDElEQVR42q2RzUrDQBzE81C+gQdP+hC+hicPhiTqQREr+IEiInjyoCJ4sVKPiloUQ6CH1gRpGsQmWpLs7k+yNdp48KILs7uz8B9mZwwApRRKSqSUCCmGXCnNC5T8N5Q6Rkn+ukodo9jk+4Dn+ytqp4uct854TV9IBymProvv++S5QAhBlmV6KAx7JElCFEWEYUi/3/92WFzidofD6UkmZseYWh+n/dbCffAwLRvLdlhaXmFjc0ufq7U1tnd2sZ0FbGeeOdPi6PhECxbxfH25c3ONuT/Dwe2e5nEck+c5QRBw12xSr1/w5Pt4nqcdFSKNxiXdbqgdVzL8jxwrGfLZ6FC82mrZ9Ch+vo+2/AFITw1OiuCPvAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/ca09f0fc555f77a18084aed28e9ecf56/4fae8/Untitled_1.webp 256w,
/static/ca09f0fc555f77a18084aed28e9ecf56/59208/Untitled_1.webp 457w"
              sizes="(max-width: 457px) 100vw, 457px"
              type="image/webp"
            />
          <source
            srcset="/static/ca09f0fc555f77a18084aed28e9ecf56/e3135/Untitled_1.png 256w,
/static/ca09f0fc555f77a18084aed28e9ecf56/4c61e/Untitled_1.png 457w"
            sizes="(max-width: 457px) 100vw, 457px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/ca09f0fc555f77a18084aed28e9ecf56/4c61e/Untitled_1.png"
            alt="Untitled"
            title="Untitled"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>Playwright는 MS에서 만든 오픈소스 웹 테스트, 자동화 라이브러리 입니다. 하나의 API로 Chromium, Firefox, WebKit, 모웹(Chromium, Safari등)까지 테스트 할 수 있습니다.(<a href="https://playwright.dev/docs/next/api/class-android" target="_blank" rel="nofollow">Next 버전</a>에서는 ADB를 이용한 Android Chrome, Electron )도 지원하는 걸로 보입니다)</p>
<p>사실, Playwright 자체는 E2E 테스트 프레임워크가 아니고, @playwright/test 프레임워크를 사용하여서 크로스 브라우징 테스트가 가능합니다. (단, 레거시 Edge나 IE 지원하지 않음)</p>
<h2 id="playwright-특징" style="position:relative;"><a href="#playwright-%ED%8A%B9%EC%A7%95" aria-label="playwright 특징 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>playwright 특징</h2>
<ul>
<li>특징
하나의 API로 멀티 브라우저/플랫폼 테스트 가능
<ul>
<li>Cross-browser: 최신 모던 브라우저인 Chromium, Webkit, Firefox 지원</li>
<li>Cross-platform: Windows, Linux, MacOS, locally or CI, headless or headed</li>
<li>Cross-language: Typescript, Javascript, Python, .NET, Java</li>
<li>Test Mobile Web: 네이티브 모바일 에뮬레이션을 활용해서 모웹 안드로이드/사파리 테스트
그외 기능</li>
<li>자동 대기: 액션이 실행되기 전까지 엘리먼트가 준비될때까지 자동 기다림(timeout 옵션)</li>
<li>재시도: 필요한 조건이 충족될때까지 검사가 자동 재시도(retry 옵션)</li>
<li>Tracing: 실행 추적, 비디오, 스키린샷 캡쳐를 통해서 오류 추적 가능</li>
<li>네트워크 요청을 모킹하기 위한 네트워크 활동 훅킹 가능</li>
<li>마우스, 키보드의 기본 입력 이벤트 테스트 지원
강력한 툴</li>
<li>Codegen: Playwright 기능을 바탕으로 자동화 테스트 코드를 생성해주는 도구
<ul>
<li>자동으로 코드를 생성해주기 때문에, 코드 작성 시간과 노력을 절약 가능</li>
</ul>
</li>
<li>inspector: 테스트 실행 단계별 디버깅 실행(크롬 개발자 도구 축소버전)</li>
<li>trace viewer: 테스트 실패를 조사하기 위해 모든 정보를 캡쳐</li>
</ul>
</li>
</ul>
<h1 id="playwright-구축" style="position:relative;"><a href="#playwright-%EA%B5%AC%EC%B6%95" aria-label="playwright 구축 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Playwright 구축</h1>
<h2 id="test-파일" style="position:relative;"><a href="#test-%ED%8C%8C%EC%9D%BC" aria-label="test 파일 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Test 파일</h2>
<p>파일명에 test를 포함해야합니다. hotfix.test.ts 와 같은 형태의 파일명을 가집니다.</p>
<ul>
<li>playwright.config.ts에서 testMatch를 통해서 확장자 변경은 가능합니다.</li>
</ul>
<h2 id="timeouts" style="position:relative;"><a href="#timeouts" aria-label="timeouts permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Timeouts</h2>
<ul>
<li>playwright는 여러 태스크 별로 별도에 타임아웃을 가지고 있습니다.</li>
<li>글로벌/커맨드 별로 타임아웃 설정이 가능합니다.
<ul>
<li>간소화 테스트 전역 타임아웃: 2초(timeout: 60 _ 1000 _ 2)</li>
<li>커맨드 타임아웃 설정
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">await</span> page
  <span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'[class*="modal"]'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'text=취소하기'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">{</span> timeout<span class="token operator">:</span> <span class="token number">40000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<table>
<thead>
<tr>
<th>Timeout</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Test timeout</td>
<td>30000 ms</td>
<td>Timeout for each test, includes test, hooks and fixtures:SET DEFAULTconfig = { timeout: 60000 }OVERRIDEtest.setTimeout(120000)</td>
</tr>
<tr>
<td>Expect timeout</td>
<td>5000 ms</td>
<td>Timeout for each assertion:SET DEFAULTconfig = { expect: { timeout: 10000 } }OVERRIDEexpect(locator).toBeVisible({ timeout: 10000 })</td>
</tr>
<tr>
<td>Action timeout</td>
<td>no timeout</td>
<td>Timeout for each action:SET DEFAULTconfig = { use: { actionTimeout: 10000 } }OVERRIDElocator.click({ timeout: 10000 })</td>
</tr>
<tr>
<td>Navigation timeout</td>
<td>no timeout</td>
<td>Timeout for each navigation action:SET DEFAULTconfig = { use: { navigationTimeout: 30000 } }OVERRIDEpage.goto(’/’, { timeout: 30000 })</td>
</tr>
<tr>
<td>Global timeout</td>
<td>no timeout</td>
<td>Global timeout for the whole test run:SET IN CONFIGconfig = { globalTimeout: 60<em>60</em>1000 }</td>
</tr>
<tr>
<td>beforeAll/afterAll timeout</td>
<td>30000 ms</td>
<td>Timeout for the hook:SET IN HOOKtest.setTimeout(60000)</td>
</tr>
<tr>
<td>Fixture timeout</td>
<td>no timeout</td>
<td>Timeout for an individual fixture:SET IN FIXTURE{ scope: ‘test’, timeout: 30000 }</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>팁
<ul>
<li>테스트케이스는 읽기 쉽고 의미 전달이 명확한 한글로 작성하는 것이 좋을 것 같습니다.</li>
<li>카카오나 NHN, 클래스101 등에서도 한글로 테스트케이스를 작성하는 것으로 보입니다.</li>
</ul>
</li>
</ul>
<h2 id="cli" style="position:relative;"><a href="#cli" aria-label="cli permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CLI</h2>
<p>다음의 명령어로 터미널에서 테스트를 수행할 수 있습니다. 기본적으로 <strong>headless</strong> 로 동작합니다.
headless 란?
GUI환경이 아닌 브라우저를 뜻합니다. CLI (Command Line Interface)에서 동작하는 것을 의미합니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">yarn playwright test</code></pre></div>
<p>run 옵션 참고: <a href="https://playwright.dev/docs/test-cli" target="_blank" rel="nofollow">https://playwright.dev/docs/test-cli</a>
환경설정 파일에 설정된 브라우저/플랫폼에 대해서 테스트가 수행됩니다.
playwright에 내장된 에뮬레이터에서 제공되는 브라우저/플랫폼(chromium, firefox, safari)를 지정하여 테스트를 수행할 수 있습니다.
<a href="https://playwright.dev/docs/emulation" target="_blank" rel="nofollow">https://playwright.dev/docs/emulation</a>
테스트 고려 사항</p>
<h2 id="테스트-속도-개선" style="position:relative;"><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%86%8D%EB%8F%84-%EA%B0%9C%EC%84%A0" aria-label="테스트 속도 개선 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>테스트 속도 개선</h2>
<ul>
<li>테스트 수행 중에 가장 시간이 많이 소요되는 부분에 대해서는 테스트 진행 전에 수행할 수 있도록 처리해야합니다.</li>
<li>속도가 늦어 질 경우 배포 이후에 빠른 대응을 못함으로 꼭 테스트 수행 시간에 대해서 고민 후 개발을 진행해주시면 좋을 것 같습니다.</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// context, page 생성 시간 단축을 위해서 테스트 전에 한번만 수행</span>
test<span class="token punctuation">.</span><span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> browser<span class="token punctuation">,</span> baseURL<span class="token punctuation">,</span> contextOptions <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span>contextOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
  page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> isMobile <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isMobile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'[aria-label="navigation-button"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'[aria-label="about-link"]:visible'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> page
      <span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span>
        <span class="token string">'[aria-label="desktop-navigation"] [aria-label="about-link"]:visible'</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h1 id="-테스트-전략-" style="position:relative;"><a href="#-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A0%84%EB%9E%B5-" aria-label=" 테스트 전략  permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>⭐ 테스트 전략 ⭐</h1>
<h2 id="병렬-테스트" style="position:relative;"><a href="#%EB%B3%91%EB%A0%AC-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-label="병렬 테스트 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>병렬 테스트</h2>
<ul>
<li>각 테스트 별로 의존적이지 않도록 테스트 코드를 고립시키는 가이드 제공
<ul>
<li>현재는 단일 스레드로만 동작하도록 세팅</li>
</ul>
</li>
</ul>
<h2 id="멀티-플랫폼브라우저-테스트" style="position:relative;"><a href="#%EB%A9%80%ED%8B%B0-%ED%94%8C%EB%9E%AB%ED%8F%BC%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-label="멀티 플랫폼브라우저 테스트 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>멀티 플랫폼/브라우저 테스트</h2>
<ul>
<li>와디즈 서비스만에 타겟 멀티 플랫폼/브라우저 전략을 세워야 할 것 같습니다.</li>
<li>현재는 크롬(웹, 모웹)에 대해서만 테스트를 진행하고 있습니다.
<ul>
<li>서포터 사이드, 메이커 사이드별로 다른 타겟 지정이 필요</li>
</ul>
</li>
<li>다른 회사 사례
<ul>
<li>하이퍼커넥트: safari를 필수로 테스트 진행
<ul>
<li><a href="https://hyperconnect.github.io/2022/01/28/e2e-test-with-playwright.html" target="_blank" rel="nofollow">https://hyperconnect.github.io/2022/01/28/e2e-test-with-playwright.html</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="playwright-작성법" style="position:relative;"><a href="#playwright-%EC%9E%91%EC%84%B1%EB%B2%95" aria-label="playwright 작성법 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>playwright 작성법</h1>
<h2 id="테스트케이스-작성법" style="position:relative;"><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%BC%80%EC%9D%B4%EC%8A%A4-%EC%9E%91%EC%84%B1%EB%B2%95" aria-label="테스트케이스 작성법 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>테스트케이스 작성법</h2>
<p><strong>Run Command Line</strong></p>
<ul>
<li>Running all tests
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">npx playwright <span class="token builtin class-name">test</span></code></pre></div>
</li>
<li>Running a single test file
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">npx playwright test landing<span class="token operator">-</span>page<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>ts</code></pre></div>
</li>
<li>Run a set of test files
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">npx playwright test tests<span class="token operator">/</span>todo<span class="token operator">-</span>page<span class="token operator">/</span> tests<span class="token operator">/</span>landing<span class="token operator">-</span>page<span class="token operator">/</span></code></pre></div>
</li>
<li>Run files that have <code class="language-text">landing</code> or <code class="language-text">login</code> in the file name
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">npx playwright test landing login</code></pre></div>
</li>
<li>Run the test with the title
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">npx playwright test <span class="token operator">-</span>g <span class="token string">"add a todo item"</span></code></pre></div>
</li>
<li>Running tests in headed mode
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">npx playwright test landing<span class="token operator">-</span>page<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>ts <span class="token operator">--</span>headed</code></pre></div>
</li>
<li>Running tests on a specific project
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">npx playwright test landing<span class="token operator">-</span>page<span class="token punctuation">.</span>ts <span class="token operator">--</span>project<span class="token operator">=</span>chromium</code></pre></div>
<strong>Debugging Tests</strong></li>
<li>Debugging all tests:
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npx playwright test --debug</code></pre></div>
</li>
<li>Debugging one test file:
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npx playwright test example.spec.ts --debug</code></pre></div>
</li>
<li>Debugging a test from the line number where the <code class="language-text">test(..</code> is defined:
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">npx playwright <span class="token builtin class-name">test</span> example.spec.ts:10 --debug</code></pre></div>
<strong>기본적인 테스트케이스 구성</strong>
<strong>Project Dependencies</strong></li>
<li>테스트 코드 수행 전에 꼭 필요한 테스트를 진행해야 할 경우 global setup action을 작성해주세요.</li>
<li>Desktop Chrome 진행 전 dependencies에 연관된 setup 파일들을 미리 수행되게 됩니다.</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// playwright.config.ts</span>
<span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'setup'</span><span class="token punctuation">,</span> testMatch<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*\.setup\.ts</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'chromium'</span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>devices<span class="token punctuation">[</span><span class="token string">'Desktop Chrome'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  dependencies<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'setup'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></div>
<p><strong>Configure globalSetup and globalTeardown</strong></p>
<ul>
<li>모든 테스트 전에 한번에 수행되야하는 코드에 대해서는 globalSetup/globalTeardown 속성을 적용해주세요.</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// playwright.config.ts/js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@playwright/test'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  globalSetup<span class="token operator">:</span> <span class="token keyword">require</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./global-setup'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  globalTeardown<span class="token operator">:</span> <span class="token keyword">require</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./global-teardown'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token punctuation">{</span>
    baseURL<span class="token operator">:</span> <span class="token string">'http://localhost:3000/'</span><span class="token punctuation">,</span>
    storageState<span class="token operator">:</span> <span class="token string">'state.json'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><strong>describe, test</strong>
describe로 테스트들을 논리적으로 나누고, test로 테스트를 작성합니다.
describe 내에서 테스트 전체 선행/후행 작업 필요 시 beforeAll, AfterEach를 사용해보고,
<strong>→ context, page 생성 시 시간이 많이 소요됨으로 전체 테스트 전에 미리 생성해두면 테스트 시간을 줄일 수 있습니다.</strong>
각 테스트 별로 선행/후행 작업 필요 시 beforeEach, afterEach를 사용해주세요.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> expect<span class="token punctuation">,</span> Page<span class="token punctuation">,</span> test<span class="token punctuation">,</span> BrowserContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@playwright/test'</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'홈'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> browserContext<span class="token operator">:</span> BrowserContext<span class="token punctuation">;</span>
  <span class="token keyword">let</span> page<span class="token operator">:</span> Page<span class="token punctuation">;</span>

  <span class="token comment">// beforeAll hook은 최초 딱 한번 실행. initialize 작업 등을 수행</span>
  test<span class="token punctuation">.</span><span class="token function">beforeAll</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> browser<span class="token punctuation">,</span> contextOptions <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    browserContext <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span>contextOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  test<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> isMobile <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// 페이지 생성</span>
    page <span class="token operator">=</span> <span class="token keyword">await</span> browserContext<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>isMobile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'[aria-label="navigation-button"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'[aria-label="career-link"]:visible'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">await</span> page
        <span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span>
          <span class="token string">'[aria-label="desktop-navigation"] [aria-label="career-link"]:visible'</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  test<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  test<span class="token punctuation">.</span><span class="token function">afterAll</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> browserContext<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'02-5. Carrer 상세 화면에 대한 검증을 한다.'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'main > section > ul > li a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> href <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> element<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

    element<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveURL</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> subElement <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'main section > div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>subElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><strong>테스트 제목</strong>
테스트 제목은 최대한 명시적으로 제목만 보아도 어떤 테스트를 수행하는 지 알 수 있어야하며, 능동형 문장으로 작성합니다. (~~된다 라는 표현은 지양하고 ~~한다 라는 표현으로 작성해요)</p>
<h2 id="사소한-꿀팁" style="position:relative;"><a href="#%EC%82%AC%EC%86%8C%ED%95%9C-%EA%BF%80%ED%8C%81" aria-label="사소한 꿀팁 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>사소한 꿀팁</h2>
<h3 id="testonly" style="position:relative;"><a href="#testonly" aria-label="testonly permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>test.only</h3>
<p>테스트 파일안에 여러 테스트 케이스들이 있는데 하나의 테스트만 수정해도 파일 내의 모든 테스트 케이스들이 실행됩니다. 작성 중인 테스트 케이스만 실행되도록 <strong>test.only</strong> 를 사용할 수 있습니다.</p>
<h3 id="testskip" style="position:relative;"><a href="#testskip" aria-label="testskip permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>test.skip</h3>
<p>실행 불가능한 테스트 케이스지만 테스트 목록에는 넣고 싶을 때 <strong>test.skip</strong>을 사용할 수 있습니다. 최종 결과에 pending으로 집계됩니다.
<strong>Selector</strong>
playwright에 selector는 쿼리 우선순위를 기반으로 제공되며, 해당 기능이 안될 locator를 이용해서 자유롭게 엘리먼트에 접근이 가능합니다.
쿼리 우선 순위</p>
<ul>
<li>시각 요소/ 사용자의 인터렉션을 테스트하기 위한 쿼리들 간 우선순위
<ul>
<li>getByRole > getByLabelText > getByPlaceholderText > getByText > getByDisplayValue</li>
</ul>
</li>
<li>HTML5 와 ARIA 속성을 테스트 하기 위한 쿼리들 간 우선순위
<ul>
<li>getByAltText > getByTitle</li>
</ul>
</li>
<li>테스트 ID: 위에 쿼리들로도 불가능한 값을 검색하기 위해서만 사용
<ul>
<li>getByTestId</li>
<li>data attribute는 팀 내 합의로 정하는 것이 좋을 것 같습니다.</li>
</ul>
</li>
<li>해당 우선순위로도 접근이 불가능할 경우 locator 사용을 해주시면 됩니다.
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'main > section > ul > li a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<strong>테스트 도구 활용</strong>
Playwright Inspector 화면에서 Pick locator 클릭 후 화면을 선택 시 자동으로 테스트 코드를 생성해줍니다.
해당 기능을 통해서 코드 생성 시 참고가 가능하면, 개발 생산성을 높일 수 있을 것 같습니다.</li>
</ul>
<h2 id="negating-matchers" style="position:relative;"><a href="#negating-matchers" aria-label="negating matchers permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Negating Matchers</h2>
<ul>
<li>일반적으로 matcher 앞에 .not을 붙여주면 됩니다.</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token function">expect</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>locator<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toContainText</span><span class="token punctuation">(</span><span class="token string">'some text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="soft-assertions" style="position:relative;"><a href="#soft-assertions" aria-label="soft assertions permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Soft Assertions</h2>
<ul>
<li>기본적으로 Assertion이 에러가 날 경우 테스트가 종료되지만, Soft Assertions 적용 시 테스트가 종료되지 않고 실패에 대해서 마킹만 해주게 됩니다.</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Make a few checks that will not stop the test when failed...</span>
<span class="token keyword">await</span> expect<span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">'status'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveText</span><span class="token punctuation">(</span><span class="token string">'Success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> expect<span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">'eta'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveText</span><span class="token punctuation">(</span><span class="token string">'1 day'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ... and continue the test to check more things.</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'next page'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> expect
  <span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Make another order'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toBeVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="polling" style="position:relative;"><a href="#polling" aria-label="polling permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Polling</h2>
<ul>
<li>expect.poll사용하여서 비동기적으로 기다릴 때 사용하게 됩니다.(API 응답을 할 경우 대부분 사용)</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">await</span> expect
  <span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span>
    <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// Custom error message, optional.</span>
      message<span class="token operator">:</span> <span class="token string">'make sure API eventually succeeds'</span><span class="token punctuation">,</span> <span class="token comment">// custom error message</span>
      <span class="token comment">// Poll for 10 seconds; defaults to 5 seconds. Pass 0 to disable timeout.</span>
      timeout<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> expect
  <span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span>
    <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// Probe, wait 1s, probe, wait 2s, probe, wait 10s, probe, wait 10s, probe, .... Defaults to [100, 250, 500, 1000].</span>
      intervals<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1_000</span><span class="token punctuation">,</span> <span class="token number">2_000</span><span class="token punctuation">,</span> <span class="token number">10_000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      timeout<span class="token operator">:</span> <span class="token number">60_000</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="retrying" style="position:relative;"><a href="#retrying" aria-label="retrying permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retrying</h2>
<ul>
<li>코드가 블락 될 경우 intervals를 통해서 재시도 처리를 해주게 됩니다.</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Probe, wait 1s, probe, wait 2s, probe, wait 10s, probe, wait 10s, probe, .... Defaults to [100, 250, 500, 1000].</span>
  intervals<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1_000</span><span class="token punctuation">,</span> <span class="token number">2_000</span><span class="token punctuation">,</span> <span class="token number">10_000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  timeout<span class="token operator">:</span> <span class="token number">60_000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h1 id="playwright-가이드" style="position:relative;"><a href="#playwright-%EA%B0%80%EC%9D%B4%EB%93%9C" aria-label="playwright 가이드 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Playwright 가이드</h1>
<ul>
<li>
<p>가이드
Playwright 기본</p>
<ul>
<li>
<p>Install playwright</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># 브라우저 설치</span>
$ <span class="token function">npm</span> i -D playwright

<span class="token comment"># 테스팅 라이브러리 설치</span>
$ <span class="token function">npm</span> i -D @playwright/test</code></pre></div>
</li>
</ul>
</li>
</ul>
<h2 id="playwright-주요개념" style="position:relative;"><a href="#playwright-%EC%A3%BC%EC%9A%94%EA%B0%9C%EB%85%90" aria-label="playwright 주요개념 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Playwright 주요개념</h2>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> <span class="token punctuation">{</span> chromium <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'playwright'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> browser <span class="token operator">=</span> <span class="token keyword">await</span> chromium<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
<span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>브라우저 인스턴스를 만드는 데 비용이 많이 들기 때문에 Playwright는 단일 인스턴스가 여러 브라우저 컨텍스트를 통해 수행할 수 있는 작업을 극대화하도록 설계되었다.
브라우저 컨텍스트는 브라우저 인스턴스 내에서 분리된 유사 세션이다. 만드는데 빠르고 비용이 적다. 각 테스트를 새로운 브라우저 컨텍스트에서 실행하여 브라우저 상태를 테스트 간에 분리하는 것이 좋다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> browser <span class="token operator">=</span> <span class="token keyword">await</span> chromium<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>컨텍스트별로 다른 기기를 시뮬레이션 할 수 있다. 예제에서는 아이폰과 아이패드에 대한 컨텍스트를 생성하고 있다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> devices <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'playwright'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> iPhone <span class="token operator">=</span> devices<span class="token punctuation">[</span><span class="token string">'iPhone 11 Pro'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iPad <span class="token operator">=</span> devices<span class="token punctuation">[</span><span class="token string">'iPad Pro 11'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> iPhoneContext <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>iPhone<span class="token punctuation">,</span>
  permissions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'geolocation'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  geolocation<span class="token operator">:</span> <span class="token punctuation">{</span> latitude<span class="token operator">:</span> <span class="token number">52.52</span><span class="token punctuation">,</span> longitude<span class="token operator">:</span> <span class="token number">13.39</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  colorScheme<span class="token operator">:</span> <span class="token string">'dark'</span><span class="token punctuation">,</span>
  locale<span class="token operator">:</span> <span class="token string">'de-DE'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iPadContext <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>iPad<span class="token punctuation">,</span>
  permissions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'geolocation'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  geolocation<span class="token operator">:</span> <span class="token punctuation">{</span> latitude<span class="token operator">:</span> <span class="token number">37.4</span><span class="token punctuation">,</span> longitude<span class="token operator">:</span> <span class="token number">127.1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>컨텍스트는 컨텍스트 내의 단일 탭 또는 팝업 창을 나타내는 페이지를 가질 수 있다. URL로 이동해서 페이지의 콘텐츠와 상호작용할 때 사용하면 된다.
페이지를 이용해서 각기 다른 탭에서 작업하는 것처럼 할 수 있다. 예제에서는 각기 다른 페이지를 탐색한다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// ...</span>
<span class="token comment">// 페이지1 생성</span>
<span class="token keyword">const</span> page1 <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 브라우저에 URL을 입력하는 것처럼 탐색</span>
<span class="token keyword">await</span> page1<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'http://example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 인풋 채우기</span>
<span class="token keyword">await</span> page1<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'#search'</span><span class="token punctuation">,</span> <span class="token string">'query'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 페이지2 생성</span>
<span class="token keyword">const</span> page2 <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> page2<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'https://www.nhn.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 링크를 클릭하여 탐색</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token string">'.nav_locale'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 새로운 url 출력</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>페이지는 다시 1개 이상의 프레임 객체를 가질 수 있다. 각 페이지에는 메인 프레임이 있고 페이지 레벨 상호작용(클릭 등)이 메인 프레임에서 작동하는 것으로 가정한다. iframe 태그와 함께 추가 프레임을 가질 수 있다.
프레임을 이용해서 프레임 내부에 있는 엘리먼트를 가져오거나 조작할 수 있다. 예제에서는 프레임을 가져오는 방법들과 프레임 내부의 엘리먼트와 상호작용하는 방법을 보여준다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// 프레임의 name 속성으로 프레임 가져오기</span>
<span class="token keyword">const</span> frame <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span><span class="token string">'frame-login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 프레임의 URL로 가져오기</span>
<span class="token keyword">const</span> frame <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*domain.*</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 선택자로 프레임 가져오기</span>
<span class="token keyword">const</span> frameElementHandle <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.frame-class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> frame <span class="token operator">=</span> <span class="token keyword">await</span> frameElementHandle<span class="token punctuation">.</span><span class="token function">contentFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 프레임과 상호작용</span>
<span class="token keyword">await</span> frame<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'#username-input'</span><span class="token punctuation">,</span> <span class="token string">'John'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="playwright-commands" style="position:relative;"><a href="#playwright-commands" aria-label="playwright commands permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Playwright Commands</h2>
<h3 id="actions" style="position:relative;"><a href="#actions" aria-label="actions permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Actions</h3>
<ul>
<li>
<p>input, textarea, [contenteditable] 엘리먼트를 포커스 &#x26; 텍스트를 바로 입력할 경우 호출
locator.fill() 대체해서 사용 가능</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Text input</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'textbox'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'Peter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Date input</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Birth date'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'2020-02-02'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Time input</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Appointment time'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'13:15'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Local datetime input</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Local time'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'2020-03-02T05:15'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
<li>
<p>Type characters → real keyboard type
입력 엘리먼트에 실제 키보드 입력이 되는것처럼 동작
locator.type() 대체해서 사용 가능</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Type character by character</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'#area'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
<li>
<p>엘리먼트를 선택하거나 단축키를 생성하기 위한 동작
keyboardEvent.key 이벤트를 사용이 가능
<a href="http://locator.press/" target="_blank" rel="nofollow">locator.press</a>() 대체 가능</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Hit Enter</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'Submit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token string">'Enter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Dispatch Control+Right</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'textbox'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token string">'Control+ArrowRight'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Press $ sign on keyboard</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'textbox'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token string">'$'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &lt;input id=name></span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'#name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token string">'Shift+A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &lt;input id=name></span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'#name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token string">'Shift+ArrowLeft'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
<li>
<p>input[type=checkbox], input[type=radio] and [role=checkbox] 엘리먼트에 대해서 체크/미체크 세팅, 얻어올 경우 호출
locator.setChecked() 대체해서 사용 가능</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Check the checkbox</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'I agree to the terms above'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Assert the checked state</span>
<span class="token function">expect</span><span class="token punctuation">(</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Subscribe to newsletter'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Select the radio button</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'XL'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
<li>
<p>select 엘리먼트를 단일/다중 선택 시 사용
특정 옵션에 value, label 선택이 가능
locator.selectOption() 대체해서 사용가능</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Single selection matching the value</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Choose a color'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">selectOption</span><span class="token punctuation">(</span><span class="token string">'blue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Single selection matching the label</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Choose a color'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">selectOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">'Blue'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Multiple selected items</span>
<span class="token keyword">await</span> page
  <span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Choose multiple colors'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">selectOption</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
<li>
<p>DOM이 접근이 가능할 때까지 대기</p>
</li>
<li>
<p>DOM이 보여질 때까지 대기(no empty, no display:none, no visibility:hidden)</p>
</li>
<li>
<p>움직임이 멈출때까지 대기(예: transition finishes)</p>
</li>
<li>
<p>뷰포트 안에 엘리먼트가 보여질 경우(scroll)</p>
</li>
<li>
<p>엘리먼트가 다른 엘리먼트에 가려지지 않을 때까지 대기</p>
</li>
<li>
<p>엘리먼트가 detach 된다면 다시 attach 될때까지 대기</p>
</li>
<li>
<p>강제클릭: 다른 엘리먼트에 의해서 가려질 경우 강제로 클릭 가능</p>
</li>
<li>
<p>dispatchEvent: 사용자의 입력과 상관없이 클릭 이벤트만 전달하고 싶은경우</p>
</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Generic click</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Double click</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'Item'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dblclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Right click</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'Item'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">{</span> button<span class="token operator">:</span> <span class="token string">'right'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Shift + click</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'Item'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">{</span> modifiers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Shift'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Hover over element</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'Item'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Click the top left corner</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'Item'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">{</span> position<span class="token operator">:</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Force Click</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">{</span> force<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Dispatch Click</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li>
<p>input 엘리먼트 type=”file”인 경우 사용이 가능
locator.setInputFiles() 대체 가능
엘리먼트가 동적으로 생성된 경우 waitForEvent로 대기 가능(page.on(’filechooser’) 대체 가능)</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Select one file</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Upload file'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setInputFiles</span><span class="token punctuation">(</span><span class="token string">'myfile.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Select multiple files</span>
<span class="token keyword">await</span> page
  <span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Upload files'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setInputFiles</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'file1.txt'</span><span class="token punctuation">,</span> <span class="token string">'file2.txt'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Remove all the selected files</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Upload file'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setInputFiles</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Upload buffer from memory</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Upload file'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setInputFiles</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'file.txt'</span><span class="token punctuation">,</span>
  mimeType<span class="token operator">:</span> <span class="token string">'text/plain'</span><span class="token punctuation">,</span>
  buffer<span class="token operator">:</span> Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'this is test'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Start waiting for file chooser before clicking. Note no await.</span>
<span class="token keyword">const</span> fileChooserPromise <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">waitForEvent</span><span class="token punctuation">(</span><span class="token string">'filechooser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Upload file'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fileChooser <span class="token operator">=</span> <span class="token keyword">await</span> fileChooserPromise<span class="token punctuation">;</span>
<span class="token keyword">await</span> fileChooser<span class="token punctuation">.</span><span class="token function">setFiles</span><span class="token punctuation">(</span><span class="token string">'myfile.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
<li>
<p>locator.focus() 함수로 대체 가능</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>locator.dragTo() 대체 가능
lower-level 함수로 대체할 경우(locator.hover, mouse.down, mouse.move, mouse.up 사용가능)</p>
</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// drag and drop</span>
<span class="token keyword">await</span> page
  <span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'#item-to-be-dragged'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">dragTo</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'#item-to-drop-at'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// lower-level</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'#item-to-be-dragged'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span><span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'#item-to-drop-at'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span><span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="assertions" style="position:relative;"><a href="#assertions" aria-label="assertions permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Assertions</h2>
<p><a href="https://playwright.dev/docs/test-assertions" target="_blank" rel="nofollow">https://playwright.dev/docs/test-assertions</a>
Assertion은 기대값과 결과값을 검사하기 위해 사용합니다.
Playwright test assertion 수행 시 expect 함수를 사용할 수 있으며, 다양한 assertions 함수를 제공하고 있습니다.
<br />
<br /></p>
<table>
<thead>
<tr>
<th>Assertion</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-be-checked" target="_blank" rel="nofollow">expect(locator).toBeChecked()</a></td>
<td>Checkbox is checked</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-be-disabled" target="_blank" rel="nofollow">expect(locator).toBeDisabled()</a></td>
<td>Element is disabled</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-be-editable" target="_blank" rel="nofollow">expect(locator).toBeEditable()</a></td>
<td>Element is enabled</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-be-empty" target="_blank" rel="nofollow">expect(locator).toBeEmpty()</a></td>
<td>Container is empty</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-be-enabled" target="_blank" rel="nofollow">expect(locator).toBeEnabled()</a></td>
<td>Element is enabled</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-be-focused" target="_blank" rel="nofollow">expect(locator).toBeFocused()</a></td>
<td>Element is focused</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-be-hidden" target="_blank" rel="nofollow">expect(locator).toBeHidden()</a></td>
<td>Element is not visible</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-be-in-viewport" target="_blank" rel="nofollow">expect(locator).toBeInViewport()</a></td>
<td>Element intersects viewport</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-be-visible" target="_blank" rel="nofollow">expect(locator).toBeVisible()</a></td>
<td>Element is visible</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-contain-text" target="_blank" rel="nofollow">expect(locator).toContainText()</a></td>
<td>Element contains text</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-attribute" target="_blank" rel="nofollow">expect(locator).toHaveAttribute()</a></td>
<td>Element has a DOM attribute</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-class" target="_blank" rel="nofollow">expect(locator).toHaveClass()</a></td>
<td>Element has a class property</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-count" target="_blank" rel="nofollow">expect(locator).toHaveCount()</a></td>
<td>List has exact number of children</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-css" target="_blank" rel="nofollow">expect(locator).toHaveCSS()</a></td>
<td>Element has CSS property</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-id" target="_blank" rel="nofollow">expect(locator).toHaveId()</a></td>
<td>Element has an ID</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-js-property" target="_blank" rel="nofollow">expect(locator).toHaveJSProperty()</a></td>
<td>Element has a JavaScript property</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-screenshot-1" target="_blank" rel="nofollow">expect(locator).toHaveScreenshot()</a></td>
<td>Element has a screenshot</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-text" target="_blank" rel="nofollow">expect(locator).toHaveText()</a></td>
<td>Element matches text</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-value" target="_blank" rel="nofollow">expect(locator).toHaveValue()</a></td>
<td>Input has a value</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-locatorassertions#locator-assertions-to-have-values" target="_blank" rel="nofollow">expect(locator).toHaveValues()</a></td>
<td>Select has options selected</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-pageassertions#page-assertions-to-have-screenshot-1" target="_blank" rel="nofollow">expect(page).toHaveScreenshot()</a></td>
<td>Page has a screenshot</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-pageassertions#page-assertions-to-have-title" target="_blank" rel="nofollow">expect(page).toHaveTitle()</a></td>
<td>Page has a title</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-pageassertions#page-assertions-to-have-url" target="_blank" rel="nofollow">expect(page).toHaveURL()</a></td>
<td>Page has a URL</td>
</tr>
<tr>
<td><a href="https://playwright.dev/docs/api/class-apiresponseassertions#api-response-assertions-to-be-ok" target="_blank" rel="nofollow">expect(apiResponse).toBeOK()</a></td>
<td>Response has an OK status</td>
</tr>
</tbody>
</table>
<ul>
<li>일반적으로 matcher 앞에 .not을 붙여주면 됩니다.</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token function">expect</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>locator<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toContainText</span><span class="token punctuation">(</span><span class="token string">'some text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>기본적으로 테스트 실패 시 실행이 종료되지만, soft assertion 일 경우에는 종료가 되지 않는다.
실패 여부를 체크하기 위해서 <a href="http://test.info/" target="_blank" rel="nofollow">test.info</a> 사용 가능</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Make a few checks that will not stop the test when failed...</span>
<span class="token keyword">await</span> expect<span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">'status'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveText</span><span class="token punctuation">(</span><span class="token string">'Success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> expect<span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">'eta'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveText</span><span class="token punctuation">(</span><span class="token string">'1 day'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ... and continue the test to check more things.</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'next page'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> expect
  <span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Make another order'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toBeVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// test.info</span>
<span class="token comment">//// Make a few checks that will not stop the test when failed...</span>
<span class="token keyword">await</span> expect<span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">'status'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveText</span><span class="token punctuation">(</span><span class="token string">'Success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> expect<span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">'eta'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveText</span><span class="token punctuation">(</span><span class="token string">'1 day'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//// Avoid running further if there were soft assertion failures.</span>
<span class="token function">expect</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>errors<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveLength</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>특정 에러 메시지를 표현
expect.soft 대체 가능</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'Name'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'should be logged in'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Error<span class="token operator">:</span> should be logged <span class="token keyword">in</span>

<span class="token comment">// Call log:</span>
<span class="token comment">//   - expect.toBeVisible with timeout 5000ms</span>
<span class="token comment">//   - waiting for "getByText('Name')"</span>

<span class="token comment">//   2 |</span>
<span class="token comment">//   3 | test('example test', async({ page }) => {</span>
<span class="token comment">// > 4 |   await expect(page.getByText('Name'), 'should be logged in').toBeVisible();</span>
<span class="token comment">//     |                                                                  ^</span>
<span class="token comment">//   5 | });</span>
<span class="token comment">//   6 |</span>

<span class="token comment">// 동일한 코드</span>
expect<span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">'my soft assertion'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">56</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<ul>
<li>expect.poll사용하여서 비동기적으로 기다릴 때 사용하게 됩니다.(API 응답을 할 경우 대부분 사용)</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">await</span> expect
  <span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span>
    <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'&lt;https://api.example.com>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// Custom error message, optional.</span>
      message<span class="token operator">:</span> <span class="token string">'make sure API eventually succeeds'</span><span class="token punctuation">,</span> <span class="token comment">// custom error message</span>
      <span class="token comment">// Poll for 10 seconds; defaults to 5 seconds. Pass 0 to disable timeout.</span>
      timeout<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> expect
  <span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span>
    <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'&lt;https://api.example.com>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// Probe, wait 1s, probe, wait 2s, probe, wait 10s, probe, wait 10s, probe, .... Defaults to [100, 250, 500, 1000].</span>
      intervals<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1_000</span><span class="token punctuation">,</span> <span class="token number">2_000</span><span class="token punctuation">,</span> <span class="token number">10_000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      timeout<span class="token operator">:</span> <span class="token number">60_000</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li>코드가 블락 될 경우 intervals를 통해서 재시도 처리를 해주게 됩니다</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// API 응답이 성공할 때까지 코드 블록을 재 실행</span>
<span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'&lt;https://api.example.com>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// API 응답에 재시도 간격에 대해서 사용자 지정 시간을 세팅</span>
<span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'&lt;https://api.example.com>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Probe, wait 1s, probe, wait 2s, probe, wait 10s, probe, wait 10s, probe, .... Defaults to [100, 250, 500, 1000].</span>
  intervals<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1_000</span><span class="token punctuation">,</span> <span class="token number">2_000</span><span class="token punctuation">,</span> <span class="token number">10_000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  timeout<span class="token operator">:</span> <span class="token number">60_000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="locators" style="position:relative;"><a href="#locators" aria-label="locators permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Locators</h2>
<p>page.getByRole() → 접근성 속성을 찾을 경우</p>
<ul>
<li>보조 기술이 페이지를 인식하는 방법을 사용할 경우 사용
page.getByLabel() → form 컨트롤 라벨 텍스트 찾을 경우</li>
<li>form fields 찾을 경우 사용
page.getByPlaceholder() → placeholder 찾은 경우</li>
<li>엘리먼트에 label이 없고 placeholder 텍스트가 있는경우 사용
page.getByText() → 텍스트 찾을 경우</li>
<li>인터렉션이 없는 엘리먼트의 텍스트를 찾을 경우(div, span, p) 사용</li>
<li>인터렉션이 있는 엘리먼트(button, a, input): page.getByLabel
page.getByAltText() → 대체 텍스트를 찾을 경우</li>
<li>img, area 엘리먼트 처럼 대체 텍스트가 있는 경우 사용
page.getByTitle() → 타이틀 속성을 찾을 경우</li>
<li>엘리먼트 title 속성이 있는경우
page.getByTestId() → data-testid 속성을 찾을 경우</li>
<li>text, role 사용할 없거나, testid를 사용이 가능할 경우 사용</li>
<li>엘리먼트 내부에 특정 값을 검색할 경우 filter 사용</li>
<li>hasText: 텍스트 검색, has: locator 검색</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// hasText</span>
<span class="token keyword">await</span> page
  <span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'listitem'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> hasText<span class="token operator">:</span> <span class="token string">'Product 2'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Add to cart'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// has</span>
<span class="token keyword">await</span> page
  <span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'listitem'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> has<span class="token operator">:</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'heading'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Product 2'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Add to cart'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li>특정 엘리먼트 배열의 인덱스 접근 가능</li>
<li>locator.first(), locator.last(), locator.nth() 대체 가능</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> banana <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'listitem'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li>Iterate elements</li>
<li>Iterate using regular for loop</li>
<li>Evaluate in the page → DOM api 사용할 경우</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Iterate elements</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> row <span class="token keyword">of</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'listitem'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> row<span class="token punctuation">.</span><span class="token function">textContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Iterate using regular for loop</span>
<span class="token keyword">const</span> rows <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'listitem'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token keyword">await</span> rows<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> rows<span class="token punctuation">.</span><span class="token function">nth</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">textContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Evaluate in the page</span>
<span class="token keyword">const</span> rows <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'listitem'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> texts <span class="token operator">=</span> <span class="token keyword">await</span> rows<span class="token punctuation">.</span><span class="token function">evaluateAll</span><span class="token punctuation">(</span>list <span class="token operator">=></span>
  list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>element <span class="token operator">=></span> element<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h1 id="auto-waiting" style="position:relative;"><a href="#auto-waiting" aria-label="auto waiting permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Auto-waiting</h1>
<p>모든 관련 검사가 통과할 때까지 자동 대기한 이후에 다음 요청된 작업을 수행합니다.
예를 들어서, page.click()의 경우 playwright는 다음을 확인합니다</p>
<ul>
<li>엘리먼트가 DOM에 연결된 경우</li>
<li>엘리먼트가 보여질 경우</li>
<li>엘리먼트가 애니메이션 완료, 동작안하는 경우</li>
<li>엘리먼트가 다른 요소에 가려지지 않는 경우</li>
<li>엘리먼트가 활성화 된 경우
<table>
<thead>
<tr>
<th>Action</th>
<th><a href="https://playwright.dev/docs/actionability#attached" target="_blank" rel="nofollow">Attached</a></th>
<th><a href="https://playwright.dev/docs/actionability#visible" target="_blank" rel="nofollow">Visible</a></th>
<th><a href="https://playwright.dev/docs/actionability#stable" target="_blank" rel="nofollow">Stable</a></th>
<th><a href="https://playwright.dev/docs/actionability#receives-events" target="_blank" rel="nofollow">Receives Events</a></th>
<th><a href="https://playwright.dev/docs/actionability#enabled" target="_blank" rel="nofollow">Enabled</a></th>
<th><a href="https://playwright.dev/docs/actionability#editable" target="_blank" rel="nofollow">Editable</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>check</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
</tr>
<tr>
<td>click</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
</tr>
<tr>
<td>dblclick</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
</tr>
<tr>
<td>setChecked</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
</tr>
<tr>
<td>tap</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
</tr>
<tr>
<td>uncheck</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
</tr>
<tr>
<td>hover</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>scrollIntoViewIfNeeded</td>
<td>Yes</td>
<td>-</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>screenshot</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>fill</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>selectText</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>dispatchEvent</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>focus</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>getAttribute</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>innerText</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>innerHTML</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>press</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>setInputFiles</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>selectOption</td>
<td>Yes</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>Yes</td>
<td>-</td>
</tr>
<tr>
<td>textContent</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>type</td>
<td>Yes</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h1 id="best-practices" style="position:relative;"><a href="#best-practices" aria-label="best practices permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Best Practices</h1>
<h2 id="testing-philosophy" style="position:relative;"><a href="#testing-philosophy" aria-label="testing philosophy permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing philosophy</h2>
<ul>
<li>
<p>사용자에게 보이는 영역/행위 테스트</p>
<ul>
<li>최종 사용자가 페이지를 보거나, 상호작용이 가능한 페이지에 대해서 테스트를 수행한다.</li>
</ul>
</li>
<li>
<p>테스트 작성 시 가능하면 고립</p>
<ul>
<li>테스트 각각에 대해서 격리해서 작업(local/session storage, data, cookies등)</li>
<li>테스트에 특정 반복을 피해야할 경우 before and after hooks를 이용</li>
<li>테스트 파일 내에서 특정 URL 이동, 앱의 이부에 로그인 진행 시 before hooks 이용</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> test <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@playwright/test'</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Runs before each test and signs in each page.</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'https://github.com/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Username or email address'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByLabel</span><span class="token punctuation">(</span><span class="token string">'Password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Sign in'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'first'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// page is signed in.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'second'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// page is signed in.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
<li>
<p>전체적인 흐름이 맞는 테스트 코드 작성(긴 테스트도 괜찮다.)</p>
<ul>
<li>전체 앱 흐름을 테스트 할 경우 여러 작업에 대한 assertion 처리로 괜찮다.</li>
<li>긴 테스트를 굳이 개별 테스트로 나눌 경우 테스트 실행 속도를 늦추기 때문에 피해야 한다.</li>
<li>긴 테스트 에러 발생 시 종료하지 않고 에러만 표시할 경우 soft assertion 사용 가능하다.</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">// Make a few checks that will not stop the test when failed...</span>
<span class="token keyword">await</span> expect<span class="token punctuation">.</span><span class="token function">soft</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">'status'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveText</span><span class="token punctuation">(</span><span class="token string">'Success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ... and continue the test to check more things.</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'next page'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
<li>
<p>third-party 종속된 테스트는 피하라</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">'**/api/fetch_data_third_party_dependency'</span><span class="token punctuation">,</span> route <span class="token operator">=></span>
  route<span class="token punctuation">.</span><span class="token function">fulfill</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    status<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    body<span class="token operator">:</span> testData<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'https://example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</li>
</ul>
<h2 id="best-practices-1" style="position:relative;"><a href="#best-practices-1" aria-label="best practices 1 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Best Practices</h2>
<p><strong>playwright에 내장된 locator를 사용해라</strong></p>
<ul>
<li>auto waiting, retry-ability 등의 기능을 사용하기 위해서 내장된 locator를 이용</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">👍 page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'submit'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p><strong>Use chaining and filtering</strong></p>
<ul>
<li>페이지의 특정 부분을 검색할 경우 chaning, filtering으로 좁히는 걸 추천</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> product <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'listitem'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> hasText<span class="token operator">:</span> <span class="token string">'Product 2'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> page
  <span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'listitem'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> hasText<span class="token operator">:</span> <span class="token string">'Product 2'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'Add to cart'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><strong>Prefer user-facing attributes to XPath or CSS selectors</strong></p>
<ul>
<li>유저 중심의 속성 셀렉터를 사용</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">👎 page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'button.buttonIcon.episode-actions-later'</span><span class="token punctuation">)</span>

👍 page<span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'submit'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p><strong>codegen을 활용한 locators 자동생성</strong></p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">npx playwright codegen playwright<span class="token punctuation">.</span>dev</code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/841c2fdf5250a0c7070a720e7f165572/d98ff/Untitled_2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.01562499999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/UlEQVR42o2Ma0sUYRiG55/0xSwP6GqWlAVCq+sJzc0OBoadUBOEiAiEQnecdWa0v2Pfq7W/EJaU0O4672F2dmZn13Xf97nDCexrHy5u7vvhuQzheU0/CkgIqbmQut440cKvaiaDJP+HsidUsczAuCwZJVZUxVIJjHMIKcGFgF/xcex5KB+zpDP+Dy7kOcVSGQfff+Dw5xF9OzjEr6PfzBiZnFYjYzPIjGdpbCJLmbFZSo/O0N1782TlTXJ2dsl1/+K4O5QzLdrYNMl2dpJb3nZo23a14+7izdt1z7jY1a/ah/rRNpyithspXEpfwYXr3XixvAp+XIRgDIJzSClR8X1UhIDwPLBSERXOUPUl6nGka2EVe3sfmdHVN6huTWUwuTRHI4+mkXk2i6HsKN7nLNTjJmrVGGEUI4hOEEQNxLUTNMIIsZSoBwEaUYRWq6UB4NPnAjcu9wyoien7WHy6SguLK1h4vITxqTmsv9tA9UwkQgSVEHEQIJI+Aj9AyDkaYYhmPcapUufCL4V9ZnT0DqjBqYdIP3lNNx8s4878Ap4vrSBn2VCqBdIaBKCugeStpUBE0EoBpwrUPAVpSoSF/a/c6Exda3WmrqKjd4Dau/vQ2dOHju4Uhm9nYOYd5KztJDctF7m8A9Oyk27mbWxZDswt+2zT2+4HvFx75f0BLPTr0J4QYi8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/841c2fdf5250a0c7070a720e7f165572/4fae8/Untitled_2.webp 256w,
/static/841c2fdf5250a0c7070a720e7f165572/2bf0f/Untitled_2.webp 512w,
/static/841c2fdf5250a0c7070a720e7f165572/d71bc/Untitled_2.webp 1024w,
/static/841c2fdf5250a0c7070a720e7f165572/f3efb/Untitled_2.webp 1536w,
/static/841c2fdf5250a0c7070a720e7f165572/96d48/Untitled_2.webp 2048w,
/static/841c2fdf5250a0c7070a720e7f165572/77f63/Untitled_2.webp 2571w"
              sizes="(max-width: 1024px) 100vw, 1024px"
              type="image/webp"
            />
          <source
            srcset="/static/841c2fdf5250a0c7070a720e7f165572/e3135/Untitled_2.png 256w,
/static/841c2fdf5250a0c7070a720e7f165572/06341/Untitled_2.png 512w,
/static/841c2fdf5250a0c7070a720e7f165572/42a19/Untitled_2.png 1024w,
/static/841c2fdf5250a0c7070a720e7f165572/e8464/Untitled_2.png 1536w,
/static/841c2fdf5250a0c7070a720e7f165572/2eb59/Untitled_2.png 2048w,
/static/841c2fdf5250a0c7070a720e7f165572/d98ff/Untitled_2.png 2571w"
            sizes="(max-width: 1024px) 100vw, 1024px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/841c2fdf5250a0c7070a720e7f165572/42a19/Untitled_2.png"
            alt="Untitled"
            title="Untitled"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<h3 id="vs-code-extension-을-활용한-locators-자동생성" style="position:relative;"><a href="#vs-code-extension-%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-locators-%EC%9E%90%EB%8F%99%EC%83%9D%EC%84%B1" aria-label="vs code extension 을 활용한 locators 자동생성 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>VS Code extension 을 활용한 locators 자동생성</h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/227e33a9541bfe5bcb305dd00386aeea/b774d/Untitled_3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 57.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoElEQVR42o2S20tUURTGz5+SFGg13koRNcEig0jroZfI8MUeogfpMQiCpLQoZTQdb4F0w8y8W+iD4a2CCLVMR8/kzJkzjuN4nHOd6cycy/pipjQoiD74sdfaG761WHsxihiJaXoUsqzYmhYlABQ3TIrpCdKi30ndRYv95o+7iCjbW2EhGVvM2vqqzvp8+PrhHc2Nj2NqZg5TU9OYmZ0D6/kGL8fB6+Pg4/x77OZrrAfzC4tYWnbj46dFrPv8YApKTuiFJWVwOPKp6uIFqq2rpTt1d6mu/h61dXRRW+cjcnV0UaOzmR40NpGzuYVc7V17tLZ1UIOzmR662unGzVvEZDjy9IzSPKSfyqXSM+WYnHmPRDwOSZIgSSJkWU6xsyMgHA5DliVomgpN06AqSurUohpM00Bf/wCYg9n5+vGz5Th/tZLSszLx+MkzKIoCPsDD7/eD53kEg0EEgxsQtsMQIxIiogRhZwdqNIaYqiKuqkhqeOw1mPTMo3rZ6XOovHSZioqO4WVvLzQtCpZl4fV6sRkKQVYVbAsyAlwInC+ITS6IoIeFwG9ADYWgaz8NB4dHwTiOFOjZxcUoLDtJmTk5eNHTi61wBPMLS/DzIaiqDtOykTAsmBbBskyQZYFME2QasAwDhmGkDIdGxsCkZWTp+w/l4MDhXNqXlobO7ufwcjw8Hk9qPqIowrJt/Eu77wNDI2D6+gf1/sERvBocpoqKCrS42uF2r2JtdTX1AXwgADPZAQFk2yCiv7BtO7m/yTUjBoD+qxBVV1ejzdUKv5/DyvIKBEGAqkj4T5GRSICJiKIuKwpkSaZrTT2ocg7jet8CrnRPoubpLGp6v6Bh1I3GMTecY0u4P8GifpzFg0kvWqc5NLz1omXaR7cn1vHmc4B+AJM14Le0e915AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/227e33a9541bfe5bcb305dd00386aeea/4fae8/Untitled_3.webp 256w,
/static/227e33a9541bfe5bcb305dd00386aeea/2bf0f/Untitled_3.webp 512w,
/static/227e33a9541bfe5bcb305dd00386aeea/d71bc/Untitled_3.webp 1024w,
/static/227e33a9541bfe5bcb305dd00386aeea/f3efb/Untitled_3.webp 1536w,
/static/227e33a9541bfe5bcb305dd00386aeea/96d48/Untitled_3.webp 2048w,
/static/227e33a9541bfe5bcb305dd00386aeea/a0e7e/Untitled_3.webp 2568w"
              sizes="(max-width: 1024px) 100vw, 1024px"
              type="image/webp"
            />
          <source
            srcset="/static/227e33a9541bfe5bcb305dd00386aeea/e3135/Untitled_3.png 256w,
/static/227e33a9541bfe5bcb305dd00386aeea/06341/Untitled_3.png 512w,
/static/227e33a9541bfe5bcb305dd00386aeea/42a19/Untitled_3.png 1024w,
/static/227e33a9541bfe5bcb305dd00386aeea/e8464/Untitled_3.png 1536w,
/static/227e33a9541bfe5bcb305dd00386aeea/2eb59/Untitled_3.png 2048w,
/static/227e33a9541bfe5bcb305dd00386aeea/b774d/Untitled_3.png 2568w"
            sizes="(max-width: 1024px) 100vw, 1024px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/227e33a9541bfe5bcb305dd00386aeea/42a19/Untitled_3.png"
            alt="Untitled"
            title="Untitled"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<h3 id="적절한-assertion-사용" style="position:relative;"><a href="#%EC%A0%81%EC%A0%88%ED%95%9C-assertion-%EC%82%AC%EC%9A%A9" aria-label="적절한 assertion 사용 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>적절한 Assertion 사용</h3>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">  👍 <span class="token keyword">await</span> <span class="token function">expect</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'welcome'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  👎 <span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">'welcome'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="local-debugging" style="position:relative;"><a href="#local-debugging" aria-label="local debugging permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Local debugging</h3>
<ul>
<li>vscode extension을 활용해서 디버깅하는 것을 추천
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/cd16cf7c4f074190885acc6362f1f162/a1b87/Untitled_4.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.79687500000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB50lEQVR42n3PSXLTQBjFcZ0oTGHIggVrFlRxFS7ACm7AFbJgKqYUFciCMETEuIpUiB3biZQosltSt9Qa2pKt/vQ9imQBK17Vb/VWf+fxo4ftYHhg4yS2YRiem85mViTSRrOZPZwc2/3ByI6PPTseH9rZny8SVoi/fN9vPc/DaDSKnZWVS3BdFyIWUEqhKApUxqA0c0QyQyQ1ZJohTXPIJEauM1RliSLP0dQ1rLUgIiYi5HmunbW1W9z/0ec0yjhJElZKcVEUvGhbrpctd5YYxMwtMXdgS+C2tWxtx10HBsDM6ABgPm8y587d++j1f0JFClJKaK1hqgplXSPLDXwvhO/9gjgZ4GwygDieIPGG0FGI2mgsmxJEDRM1KEuVOVeuXsOO62I6DZGmKarKwFQljJmjXhSI0iMk+gBJtg8h92CKAYzxUFceWuNhWflomoDr+Ql0Nsycm9dXube7y8HpKU/GYz4LAi7znKum4aKcs5AZx0pwJGccqYiFEpxrxXaxZD7PZeauu0iuTOpcXr2Bj1/24MclgkjjLC6QFA0scO7fMf6/BUM7D+7dtr31JxRsPaVw+xVNt19TsLlO8afnlGy/oOTzS1Lf35NyNyjtbZLceXfh6xtSvQ8kv70l6W7Y1N1AsPVM/gaWqUPMrvexqAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/cd16cf7c4f074190885acc6362f1f162/4fae8/Untitled_4.webp 256w,
/static/cd16cf7c4f074190885acc6362f1f162/2bf0f/Untitled_4.webp 512w,
/static/cd16cf7c4f074190885acc6362f1f162/d71bc/Untitled_4.webp 1024w,
/static/cd16cf7c4f074190885acc6362f1f162/f3efb/Untitled_4.webp 1536w,
/static/cd16cf7c4f074190885acc6362f1f162/96d48/Untitled_4.webp 2048w,
/static/cd16cf7c4f074190885acc6362f1f162/5da59/Untitled_4.webp 2453w"
              sizes="(max-width: 1024px) 100vw, 1024px"
              type="image/webp"
            />
          <source
            srcset="/static/cd16cf7c4f074190885acc6362f1f162/e3135/Untitled_4.png 256w,
/static/cd16cf7c4f074190885acc6362f1f162/06341/Untitled_4.png 512w,
/static/cd16cf7c4f074190885acc6362f1f162/42a19/Untitled_4.png 1024w,
/static/cd16cf7c4f074190885acc6362f1f162/e8464/Untitled_4.png 1536w,
/static/cd16cf7c4f074190885acc6362f1f162/2eb59/Untitled_4.png 2048w,
/static/cd16cf7c4f074190885acc6362f1f162/a1b87/Untitled_4.png 2453w"
            sizes="(max-width: 1024px) 100vw, 1024px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/cd16cf7c4f074190885acc6362f1f162/42a19/Untitled_4.png"
            alt="Untitled"
            title="Untitled"
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></li>
<li>command 방식으로 디버깅 가능</li>
<li>특정 테스트 파일, 테스트 라인 번호를 추가해서 디버깅 가능</li>
</ul>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx">npx playwright test <span class="token operator">--</span>debug

npx playwright test example<span class="token punctuation">.</span>spec<span class="token punctuation">.</span>ts<span class="token operator">:</span><span class="token number">9</span> <span class="token operator">--</span>debug</code></pre></div>
<h1 id="playwright-현실적인-적용방안" style="position:relative;"><a href="#playwright-%ED%98%84%EC%8B%A4%EC%A0%81%EC%9D%B8-%EC%A0%81%EC%9A%A9%EB%B0%A9%EC%95%88" aria-label="playwright 현실적인 적용방안 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Playwright 현실적인 적용방안</h1>
<ul>
<li>마케팅 툴에 대한 예외처리: 진행 중
<ul>
<li>테스트 자동화 툴로 실행된 환경에서 GA, Braze 등의 마케팅 툴에 대해서 동작하지 않도록 수정(navigator.webdriver 이용한 분기)
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/webdriver" target="_blank" rel="nofollow">Navigator: webdriver property - Web APIs | MDN</a></li>
</ul>
</li>
</ul>
</li>
<li>지원 브라우저/플랫폼에 대한 정의 CTO팀 스펙논의 필요
<ul>
<li>Playwright에서 지원하는 크로미움, 파포, 사파리, 모웹(AOS, IOS)에 대한 서비스만에 기준이 필요</li>
</ul>
</li>
<li>E2E 테스트에 에러에 대한 대응 자세 CTO팀 스펙논의 필요
<ul>
<li>각 팀별로 에러 발생 시 어떻게 대응할지에 대한 전략이 필요(담당자 지정) → 슬랙으로 노티는 필수</li>
</ul>
</li>
</ul>
<h1 id="e2e-테스트-자동화-구축을-위해서-어떤-걸-해야할까" style="position:relative;"><a href="#e2e-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%9E%90%EB%8F%99%ED%99%94-%EA%B5%AC%EC%B6%95%EC%9D%84-%EC%9C%84%ED%95%B4%EC%84%9C-%EC%96%B4%EB%96%A4-%EA%B1%B8-%ED%95%B4%EC%95%BC%ED%95%A0%EA%B9%8C" aria-label="e2e 테스트 자동화 구축을 위해서 어떤 걸 해야할까 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>E2E 테스트 자동화 구축을 위해서 어떤 걸 해야할까?</h1>
<h3 id="시나리오-작성기획qa테스트-엔지니어" style="position:relative;"><a href="#%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4-%EC%9E%91%EC%84%B1%EA%B8%B0%ED%9A%8Dqa%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4" aria-label="시나리오 작성기획qa테스트 엔지니어 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>시나리오 작성(기획/QA/테스트 엔지니어)</h3>
<ul>
<li>사용자 인터페이스(UI)를 고려한 테스팅 시나리오 작성</li>
<li>수동으로 했던 테스트를 자동화 할 수 있는 테스트 시나리오 작성(라이브 배포 sanity 검증, 기본적인 검증)</li>
<li>Happy 케이스만이 아닌 Bad 케이스에 대한 시나리오 작성</li>
<li>개발 진행 시 테스트 코드 작성한다면 BAT 테스트 일정을 줄이는게 가능</li>
<li>기능/컴포넌트 단위 테스트를 자동화로 이관하고, 사용성 테스트를 중점으로 테스트 가능</li>
</ul>
<p>UX 우선 조직 - 시나리오 작성 편</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token comment">/*
 * 로그인 동작 대한 시나리오 작성
 * 1. 테스트의 동작을 기술한다.
 * 2. 테스트 수행할 행동에 대해서 기술한다.
 * 3. /login 방문한다.
 * 4. 이메일 입력 타이틀 엘리먼트 선택한다.
 * 5. input 엘리먼트에 fake@email.com 입력한다.
 * 6. 비밀번호 입력 타이틀 엘리먼트 선택한다.
 * 7. input 엘리먼트에 1234 입력한다.
 * 8. 로그인 버튼을 클릭 한다.
 * 사용자 인터페이스(UI)를 고려한 시나리오 작성이 필수....
 */</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'account enroll'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByTitle</span><span class="token punctuation">(</span><span class="token string">'이메일 입력'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">USER_ID</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByTitle</span><span class="token punctuation">(</span><span class="token string">'비밀번호 입력'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">USER_PASSWORD</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">locator</span><span class="token punctuation">(</span><span class="token string">'.account'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getByRole</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="테스트-코드-유지보수-진행여부기획qa팀과-논의필요" style="position:relative;"><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9C%A0%EC%A7%80%EB%B3%B4%EC%88%98-%EC%A7%84%ED%96%89%EC%97%AC%EB%B6%80%EA%B8%B0%ED%9A%8Dqa%ED%8C%80%EA%B3%BC-%EB%85%BC%EC%9D%98%ED%95%84%EC%9A%94" aria-label="테스트 코드 유지보수 진행여부기획qa팀과 논의필요 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>테스트 코드 유지보수 진행여부(기획/QA팀과 논의필요)</h3>
<ul>
<li>QA팀에서도 진행하고 있는 E2E 테스트와 중첩되지 않도록 진행 가능여부</li>
<li>사용자 입장에서 꼭 필요한 테스트에 대한 리스트화 필요</li>
<li>서비스 테스트 자동화 확산
<ul>
<li>성격에 맞는 테스트 자동화 필요
<ul>
<li>간소화 테스트 개인 의견
<ul>
<li>테스트 속도 빨라야함(5분 내 → 사람이 테스트 한 것보다 빨라야함) - 핫픽스 테스트 시 5분 정도 소요</li>
<li>성공/실패를 하더라도 빌드에 영향은 없어야한다.</li>
<li>실패하더라도 노티는 하지만, 배포/개발 프로세스에 따로 block 되면 안된다.</li>
</ul>
</li>
<li>그외 테스트
<ul>
<li>테스트 케이스가 많아 질 경우 도메인 , 기능단위 별로 젠킨스잡/테스트 구성을 다르게 가져간다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="기대결과" style="position:relative;"><a href="#%EA%B8%B0%EB%8C%80%EA%B2%B0%EA%B3%BC" aria-label="기대결과 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>기대결과</h1>
<ul>
<li>자동화 테스트를 통해서 배포 후에 이슈(버그)를 빠르게 찾을 수 있어 <strong>유저의 경험을 개선</strong>시킬 수 있다.</li>
<li>기본적인 사용자 종단 테스트를 통해서 <strong>서비스의 안정화</strong>를 꾀할 수 있다.</li>
<li><strong>개발 코드의 신뢰도 상승과 코드의 품질</strong>을 높일 수 있다.</li>
<li>새로운 기능에 추가 시 기존 기능까지 같이 테스트를 함으로써 <strong>잠재적인 이슈에 대해서 테스팅이 가능</strong>합니다.</li>
<li>멀리 볼 경우 <strong>시간/비용을 절약</strong>할 수 있습니다.</li>
</ul>
<h1 id="참고페이지" style="position:relative;"><a href="#%EC%B0%B8%EA%B3%A0%ED%8E%98%EC%9D%B4%EC%A7%80" aria-label="참고페이지 permalink" class="custom-class before"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>참고페이지</h1>
<ul>
<li><a href="https://playwright.dev/docs/intro" target="_blank" rel="nofollow">https://playwright.dev/docs/intro</a></li>
<li><a href="https://hyperconnect.github.io/2022/01/28/e2e-test-with-playwright.html" target="_blank" rel="nofollow">https://hyperconnect.github.io/2022/01/28/e2e-test-with-playwright.html</a></li>
<li><a href="https://playwright.dev/" target="_blank" rel="nofollow">Fast and reliable end-to-end testing for modern web apps | Playwright</a></li>
<li><a href="https://hyperconnect.github.io/2022/01/28/e2e-test-with-playwright.html" target="_blank" rel="nofollow">멈춰! 버그 멈춰! E2E 테스트로 버그 멈추기 Feat. Playwright</a></li>
<li><a href="https://ui.toast.com/posts/ko_20210818" target="_blank" rel="nofollow">Playwright로 E2E 테스트 작성하기</a></li>
<li><a href="https://devport.tistory.com/28" target="_blank" rel="nofollow">E2E 테스트 프레임 워크 - Playwright_번역본</a></li>
<li><a href="https://codehive.kr/entry/Playwright%EB%A1%9C-%EC%83%9D%ED%99%9C-%EC%9E%90%EB%8F%99%ED%99%94%EB%A5%BC-%ED%95%B4%EB%B3%B4%EC%9E%90" target="_blank" rel="nofollow">[nodejs][playwright][첫걸음] Playwright 생활 자동화를 위한 첫걸음</a></li>
<li><a href="https://velog.io/@heelieben/E2E-%ED%85%8C%EC%8A%A4%ED%8A%B8-PlayWright-2eub88ik" target="_blank" rel="nofollow">E2E 테스트 : Playwright</a></li>
<li><a href="https://emewjin.github.io/playwright-vs-cypress/" target="_blank" rel="nofollow">playwright는 진짜 cypress보다 빠를까?</a></li>
<li><a href="https://junghan92.medium.com/playwright-test%EB%A1%9C-e2e-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%95%98%EA%B8%B0-vs-cypress-473948d3b697" target="_blank" rel="nofollow">playwright test로 E2E 테스트 하기(vs. Cypress)</a></li>
</ul></article><section class="PostContent__PostNavigator-sc-9jovib-6 ffkTpb"><a href="/blog/2023/06/2023-06-30-react-query-v4/"><h5>이전글</h5><i>← </i>react-query(v4)</a><a href="/blog/2023/01/2023-01-01-fe-process/"><h5>다음글</h5>FE 개발 프로세스<i> →</i></a></section><div></div></div><aside class="PostContent__TocRenderer-sc-9jovib-4 bIaAsx"><ul>
<li>
<p><a href="#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0-%EC%A0%84%EC%97%90-vs-cypress">들어가기 전에.. (vs. Cypress)</a></p>
<ul>
<li>
<p><a href="#cypress%EC%97%90%EC%84%9C-playwright%EB%A1%9C-%EC%99%9C-%EB%84%98%EC%96%B4%EA%B0%94%EB%82%98">Cypress에서 Playwright로 왜 넘어갔나??</a></p>
<ul>
<li><a href="#cypress-%EA%B0%9C%EB%B0%9C-%EC%8B%9C-%EC%96%B4%EB%A0%A4%EC%9B%80-%EC%A0%90">Cypress 개발 시 어려움 점</a></li>
<li><a href="#cypress-vs-playwright">Cypress vs Playwright</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#playwright-%EC%86%8C%EA%B0%9C">Playwright 소개</a></p>
<ul>
<li><a href="#playwright-%ED%8A%B9%EC%A7%95">playwright 특징</a></li>
</ul>
</li>
<li>
<p><a href="#playwright-%EA%B5%AC%EC%B6%95">Playwright 구축</a></p>
<ul>
<li><a href="#test-%ED%8C%8C%EC%9D%BC">Test 파일</a></li>
<li><a href="#timeouts">Timeouts</a></li>
<li><a href="#cli">CLI</a></li>
<li><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%86%8D%EB%8F%84-%EA%B0%9C%EC%84%A0">테스트 속도 개선</a></li>
</ul>
</li>
<li>
<p><a href="#-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A0%84%EB%9E%B5-">⭐ 테스트 전략 ⭐</a></p>
<ul>
<li><a href="#%EB%B3%91%EB%A0%AC-%ED%85%8C%EC%8A%A4%ED%8A%B8">병렬 테스트</a></li>
<li><a href="#%EB%A9%80%ED%8B%B0-%ED%94%8C%EB%9E%AB%ED%8F%BC%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%ED%85%8C%EC%8A%A4%ED%8A%B8">멀티 플랫폼/브라우저 테스트</a></li>
</ul>
</li>
<li>
<p><a href="#playwright-%EC%9E%91%EC%84%B1%EB%B2%95">playwright 작성법</a></p>
<ul>
<li>
<p><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%BC%80%EC%9D%B4%EC%8A%A4-%EC%9E%91%EC%84%B1%EB%B2%95">테스트케이스 작성법</a></p>
</li>
<li>
<p><a href="#%EC%82%AC%EC%86%8C%ED%95%9C-%EA%BF%80%ED%8C%81">사소한 꿀팁</a></p>
<ul>
<li><a href="#testonly">test.only</a></li>
<li><a href="#testskip">test.skip</a></li>
</ul>
</li>
<li>
<p><a href="#negating-matchers">Negating Matchers</a></p>
</li>
<li>
<p><a href="#soft-assertions">Soft Assertions</a></p>
</li>
<li>
<p><a href="#polling">Polling</a></p>
</li>
<li>
<p><a href="#retrying">Retrying</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#playwright-%EA%B0%80%EC%9D%B4%EB%93%9C">Playwright 가이드</a></p>
<ul>
<li>
<p><a href="#playwright-%EC%A3%BC%EC%9A%94%EA%B0%9C%EB%85%90">Playwright 주요개념</a></p>
</li>
<li>
<p><a href="#playwright-commands">Playwright Commands</a></p>
<ul>
<li><a href="#actions">Actions</a></li>
</ul>
</li>
<li>
<p><a href="#assertions">Assertions</a></p>
</li>
<li>
<p><a href="#locators">Locators</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#auto-waiting">Auto-waiting</a></p>
</li>
<li>
<p><a href="#best-practices">Best Practices</a></p>
<ul>
<li>
<p><a href="#testing-philosophy">Testing philosophy</a></p>
</li>
<li>
<p><a href="#best-practices-1">Best Practices</a></p>
<ul>
<li><a href="#vs-code-extension-%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-locators-%EC%9E%90%EB%8F%99%EC%83%9D%EC%84%B1">VS Code extension 을 활용한 locators 자동생성</a></li>
<li><a href="#%EC%A0%81%EC%A0%88%ED%95%9C-assertion-%EC%82%AC%EC%9A%A9">적절한 Assertion 사용</a></li>
<li><a href="#local-debugging">Local debugging</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#playwright-%ED%98%84%EC%8B%A4%EC%A0%81%EC%9D%B8-%EC%A0%81%EC%9A%A9%EB%B0%A9%EC%95%88">Playwright 현실적인 적용방안</a></p>
</li>
<li>
<p><a href="#e2e-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%9E%90%EB%8F%99%ED%99%94-%EA%B5%AC%EC%B6%95%EC%9D%84-%EC%9C%84%ED%95%B4%EC%84%9C-%EC%96%B4%EB%96%A4-%EA%B1%B8-%ED%95%B4%EC%95%BC%ED%95%A0%EA%B9%8C">E2E 테스트 자동화 구축을 위해서 어떤 걸 해야할까?</a></p>
<ul>
<li>
<ul>
<li><a href="#%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4-%EC%9E%91%EC%84%B1%EA%B8%B0%ED%9A%8Dqa%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4">시나리오 작성(기획/QA/테스트 엔지니어)</a></li>
<li><a href="#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9C%A0%EC%A7%80%EB%B3%B4%EC%88%98-%EC%A7%84%ED%96%89%EC%97%AC%EB%B6%80%EA%B8%B0%ED%9A%8Dqa%ED%8C%80%EA%B3%BC-%EB%85%BC%EC%9D%98%ED%95%84%EC%9A%94">테스트 코드 유지보수 진행여부(기획/QA팀과 논의필요)</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#%EA%B8%B0%EB%8C%80%EA%B2%B0%EA%B3%BC">기대결과</a></p>
</li>
<li>
<p><a href="#%EC%B0%B8%EA%B3%A0%ED%8E%98%EC%9D%B4%EC%A7%80">참고페이지</a></p>
</li>
</ul></aside></div><div class="Footer__FooterWrapper-sc-rphy7j-0 cKqBUF">Thank You for Visiting My Blog,<br/>© 2021 Developer SeungAh, Powered By Gatsby.</div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2023/04/2023-04-02-playwright/";window.___webpackCompilationHash="574edc59b0f831a4be0d";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-fe391ba76f4d664b34c5.js"],"app":["/app-cf78e816de5fd78a93fa.js"],"component---src-components-templates-post-template-tsx":["/component---src-components-templates-post-template-tsx-721999ce693fdd12d985.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-fba53f0d04df82788e46.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-e970490fffd6fb6cd37c.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-aced441a8b78c665c231.js"]};/*]]>*/</script><script src="/polyfill-fe391ba76f4d664b34c5.js" nomodule=""></script><script src="/app-cf78e816de5fd78a93fa.js" async=""></script><script src="/framework-af486daeee2ef6d64e8f.js" async=""></script><script src="/webpack-runtime-d28c414343b31c9f2b92.js" async=""></script></body></html>