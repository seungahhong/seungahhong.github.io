{"componentChunkName":"component---src-components-templates-post-template-tsx","path":"/blog/2024/03/2024-03-18-pnpm/","result":{"data":{"site":{"siteMetadata":{"title":"홍승아 기술 블로그","description":"홍승아 기술 블로그에 오신걸 환영합니다.","author":"홍승아","type":"website","siteUrl":"https://seungahhong.github.io","social":{"facebook":"https://www.facebook.com/people/%ED%99%8D%EC%8A%B9%EC%95%84/100002349562000/","github":"https://github.com/seungahhong","notion":"https://material-debt-c1c.notion.site/daa60481e37840ea9e1b7e1b12269942","linkedin":"https://www.linkedin.com/in/seungahhong/"}}},"allFile":{"edges":[{"node":{"name":"github","publicURL":"/static/4a6687a74051de2b3536e95d0b6c992a/github.svg","childImageSharp":null}},{"node":{"name":"facebook","publicURL":"/static/b185e9b61bb465d92b14ed1c9a9ded61/facebook.svg","childImageSharp":null}},{"node":{"name":"linkedin","publicURL":"/static/3dc9e0d0f748678205218f1c72941cc2/linkedin.svg","childImageSharp":null}},{"node":{"name":"notion","publicURL":"/static/19b0f81386812ed2f2f3a7aea202935f/notion.svg","childImageSharp":null}},{"node":{"name":"background","publicURL":"/static/77f5c833c2343c992fd263c780495905/background.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAjABQDASIAAhEBAxEB/8QAGwABAAEFAQAAAAAAAAAAAAAAAAcEBggJCgX/xAAXAQEBAQEAAAAAAAAAAAAAAAAHBQYI/9oADAMBAAIQAxAAAAG5fRl7U4Ddg9LblwJg9mPTTxjbDu2KyVVZmqWuNuZyEMin/wD/xAAcEAADAQEBAAMAAAAAAAAAAAADBAUGAgcAARb/2gAIAQEAAQUCocsCqedUserp/wBPHH8jrdcIUUCzly6d9kvsIW5VVVRpQmuEKvdas00RPa7ztxVPfbJZDS1qT9pMnf30lSbAH//EACYRAAIBAgYBBAMAAAAAAAAAAAECAwQRAAUGEiEiURUjJDEyQWH/2gAIAQMBAT8Bzv5dFVU/uOqwNDUzQtZ5I5I5Cw3LwrSlW3MlnQv1Kk3I0npF+3q1dz5y/MOLWG3lr9fxH8Axnea1WXZnSUNRX08GXSVirDBIIxJJU7WXsZS14nXmMohJkSVS0bKRMuvKG3WPLI1+lSSirEkCg2G9UfarW5IH0f0Dxitmmk1PvklkdzqqMl3dmYlaqqRTuJJuqkqPCmw4xFGhjQlEJKgklQST5Jtj/8QAJREAAgEDAwQCAwAAAAAAAAAAAQIDBBESBSEiAAYTMRRRIzJB/9oACAECAQE/Ae1JFnkdPKKaSJ6b42KoyySCQKZGV8hIo2Zl2BV25C11v3Iu2NGP6cVpCtzYkg7fsTf0PfrrQaWOv0RsKKSerpaYg1NN5eNOHGCgxGLGpSzK4Zx+PBhlkTEmga9EiRqlVZERR4a+hMQsq8YzJBmUU8VyubD217mijSPRI0jRY0GjiyIoVReGFjxUAbnc/Z36lVfI/Fff0Ov/xAAnEAACAgIBAwMFAQEAAAAAAAACAwEEBRIRABMhFCIjBhUxMkEzQv/aAAgBAQAGPwK6haou0UFLaxMVvXbjsnEOhRDx/mLSZA8SJLIp0kJiOIN1ux6qp3Jp4744r3LUEJahcOB3aLI+NZiLHCPCzaXtL5N0tbAtaonVAYszGPawGWlkJ6wMz7Y8TE/mZ6mMuEVFgtoMKzPaBkysglEsOQEhktpAIOC4ITVO4dZB5bxMXAq1ZmDBczEtdLmP/bxAQCBDUjOJZ3Q7fBMbcRzZkvlYwmbunWC7xbq2nuc88z+0e7meeeqH1LFmweGysIpWVy9p1aOTAfEwki7SBtpiHrKBHl6nrjzrzSr/AFLinRTy2O9fi6EZ6vVX6w8hX+2NYu/DAxmSTDoKiu8sStLddMlxsA9W7f1JlalDLcJr2KmftprZJA1lClK2AK0gYAoAFbljK3DHcAzgtuk2LnpTwaqbrZ22optGL2MkbaeHXEvTVf2YYyswEy8LSAFJAZj04U/eJydx9Aq966JhaJ+NriijaymQkPZXfdgspkBSveWuawobzwFC5coY7IFm6isusKWU7I48GbUjpPQ+u0q9grNGxfJMTCxC8vQeJ2K4Ny494VnenrqIuEJUGpQK0DqkfdOxFAbmXuMiLz0JTPMzERPMDPjYv5Mcfz+dQAEmY8T8tSo8vKw/7ehh6x+BHbUY8DER1//EABgQAQEBAQEAAAAAAAAAAAAAAAERACEx/9oACAEBAAE/IbjsjUQRDOG9yM8H6LHI1AF3hlR4BZJXKJMAACir473dyInWJOxmpkMQVQyHcnAdNamkCXWEAXfdQjTuahHixtYFU0pQAeZZgBWyPe+FR7akoVqS8vRqyotR0D6hilumzYosaSmxtobuIHifhRG0qHV6ADEvZwQQODoHg26va3vwzkwOFw+G/9oADAMBAAIAAwAAABCXI3JwL//EABgRAQEBAQEAAAAAAAAAAAAAAAERIQBR/9oACAEDAQE/EHVZhUihLRqkO8CCpiJbbqCaOqvbbsrimolDvsLCAEV0QgdoxxETJNt6DzBak1rJJOTOQCBVCVXVVV17/8QAGhEBAQEBAAMAAAAAAAAAAAAAAREhADFhkf/aAAgBAgEBPxCdZEzDipJRYSdhRs8DCKDVDaK1Cpytj88Ix2j+p65EH8wCDqRIkDLkWSkDjoBM4JqrvLRZWqsrmrPR87//xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAQABPxBCvOwQu7PBe3aLTISCyfpEzgoKtriaxgWDxMzHb6d+Bd6TsASFFvYtFa9FIPaEtI3sbizgSsxk2P2s9d12ptjbwWm2LYGMjAp2NKChKJmGwzNWyYEVqx80qLWAlWnhTgQBmZsmRhBMOyzEJshRGqitlRChJ6SsgOcmYx4ScH8i4H//2Q=="},"images":{"fallback":{"src":"/static/77f5c833c2343c992fd263c780495905/c2a83/background.jpg","srcSet":"/static/77f5c833c2343c992fd263c780495905/9330e/background.jpg 139w,\n/static/77f5c833c2343c992fd263c780495905/53b4d/background.jpg 278w,\n/static/77f5c833c2343c992fd263c780495905/c2a83/background.jpg 555w","sizes":"(min-width: 555px) 555px, 100vw"},"sources":[{"srcSet":"/static/77f5c833c2343c992fd263c780495905/3ee68/background.webp 139w,\n/static/77f5c833c2343c992fd263c780495905/d0ff1/background.webp 278w,\n/static/77f5c833c2343c992fd263c780495905/21b9c/background.webp 555w","type":"image/webp","sizes":"(min-width: 555px) 555px, 100vw"}]},"width":555,"height":961}}}}]},"allMarkdownRemark":{"edges":[{"node":{"html":"<h1 id=\"도입-배경\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%9E%85-%EB%B0%B0%EA%B2%BD\" aria-label=\"도입 배경 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도입 배경</h1>\n<h2 id=\"npm-yarn-classic10-패키지-매니저-문제점\" style=\"position:relative;\"><a href=\"#npm-yarn-classic10-%ED%8C%A8%ED%82%A4%EC%A7%80-%EB%A7%A4%EB%8B%88%EC%A0%80-%EB%AC%B8%EC%A0%9C%EC%A0%90\" aria-label=\"npm yarn classic10 패키지 매니저 문제점 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NPM, Yarn Classic(1.0) 패키지 매니저 문제점</h2>\n<h3 id=\"유령-의존성\" style=\"position:relative;\"><a href=\"#%EC%9C%A0%EB%A0%B9-%EC%9D%98%EC%A1%B4%EC%84%B1\" aria-label=\"유령 의존성 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>유령 의존성</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/04d02836d203f4add8e4d8817ec05aa0/3643c/Untitled.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.3125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABl0lEQVR42nWRS0/bQBDH/aV66Il7D3yCfocKiQM3pCLRSnBGQoKKqhxoEb20IA6IqjxSQXmkanAhD8eL43jNPry7XttxEq/Z2AFVVfmfZmfm95/RjpFrKeVyZAvsSg4F0c+8kMpHAZPUxk4npI7AFnJkLPIHGSrLdEtwsWOvTd9+mJE3lYLLxnU1ivj1UXNlCqy+Iiefh0VyDJd9Ye2guf4afJxPrcsSHg6HStsWfQmotT4tWhtvI/Mw/xu2av7+VhV6okO5z2MuIwBAHMdCiDRNy+lhonyWWSi5k4PRLtl4L+N4E7ybPmtXKeFdhLwwDC3LopTqWnAnzbNb5NE6/fHL3WMMQwgZY0EQYIz1akY7OqmQ9yR1Lr7Z5qnT66VdrxvJSMOVL403L3d/7teX0YsF+znkbbsFfN/HGDWbjSRJjK/e3Hzj2Xl3Z3O2vrXwm+DA/GMSQsrf/kc6KeOeA2m7g1yfGcU58izvV/F2XX5XefZ4pP9KOzgd98q8FmFklH6sDxdbE0tgcqB6BfgkrMU59yEcDPr3yn/tBvSxvOAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/04d02836d203f4add8e4d8817ec05aa0/4fae8/Untitled.webp 256w,\n/static/04d02836d203f4add8e4d8817ec05aa0/2bf0f/Untitled.webp 512w,\n/static/04d02836d203f4add8e4d8817ec05aa0/d71bc/Untitled.webp 1024w,\n/static/04d02836d203f4add8e4d8817ec05aa0/08048/Untitled.webp 1400w\"\n              sizes=\"(max-width: 1024px) 100vw, 1024px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/04d02836d203f4add8e4d8817ec05aa0/e3135/Untitled.png 256w,\n/static/04d02836d203f4add8e4d8817ec05aa0/06341/Untitled.png 512w,\n/static/04d02836d203f4add8e4d8817ec05aa0/42a19/Untitled.png 1024w,\n/static/04d02836d203f4add8e4d8817ec05aa0/3643c/Untitled.png 1400w\"\n            sizes=\"(max-width: 1024px) 100vw, 1024px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/04d02836d203f4add8e4d8817ec05aa0/42a19/Untitled.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/692b607916a0230677c8937d6eed8761/78873/Untitled1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.390625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8UlEQVR42pVSW2vUQBjdn+eLf0AK/gARn/0DBR98ER9EkaKyoEhBUaQXxdau3WVbCkWzuttmL013k2xuO8lkMplJcpxNdksvTw4M4fty5pyP75wa/uNkeQbLP4ftT2B653CIdQNTu1xwQUFTF3EaIOb0CjDPi/J73Onj4eoaVp+8gxfMyl5RXCMs8rws+mcmXtQ38Gb9G0gYVWBU6CSVCCmD4xF0uiP0dAMJSzAjFDwVWDJXhAuJ/tjHy/om3n5qglB+ZTpLEQ1MB0EYX/SF6vftEF7EF+KLCVm3Be3pfVgfH5c/2K8tVd+Dvb1WoljCwEiM6cAGjzkyNcDk62v0nj0A2avj7P0jdBSe/vlZEcaTU0wb6/CPtiCzDMLogrU2IfRjxEmMggEtsoeV37dxQPdLkanWhNX4gKB7CPq3Ca/9GdI1UJNcYjyaQsgcY9fFzCE4yXu4a6zgB9up3BUZBkTHK/05DDaqCMMEmnrn0Wp/mRqkNMUTLraHX+ByG/bEgu/6IEWAXboBSxjVrmSK0AtxcqRjcDJUBiVI1bXMMaQQpRmZFOUWa4d8H3eGt9DmDQTmDKZt3syfUnccBzu739FuH8Byx/AjF0tDc5USKeW1HBaXKeZhyS8iMz9RFEHTNOi6rmLC1a5lSTIXm99lUv4B8f3u2YeXJoUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/692b607916a0230677c8937d6eed8761/4fae8/Untitled1.webp 256w,\n/static/692b607916a0230677c8937d6eed8761/2bf0f/Untitled1.webp 512w,\n/static/692b607916a0230677c8937d6eed8761/d71bc/Untitled1.webp 1024w,\n/static/692b607916a0230677c8937d6eed8761/98c2e/Untitled1.webp 1520w\"\n              sizes=\"(max-width: 1024px) 100vw, 1024px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/692b607916a0230677c8937d6eed8761/e3135/Untitled1.png 256w,\n/static/692b607916a0230677c8937d6eed8761/06341/Untitled1.png 512w,\n/static/692b607916a0230677c8937d6eed8761/42a19/Untitled1.png 1024w,\n/static/692b607916a0230677c8937d6eed8761/78873/Untitled1.png 1520w\"\n            sizes=\"(max-width: 1024px) 100vw, 1024px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/692b607916a0230677c8937d6eed8761/42a19/Untitled1.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>yarn classic(1.0), npm(v3~) 둘 다 중복 패키지에 대한 용량을 효율적으로 관리하기 위해서 호이스팅 &#x26; 병합을 기법을 사용해서 평탄화 작업 진행(놀랍게도 npm v2 까지는 모든 의존성을 중복 설치했다고 합니다.)</li>\n<li>내부의 중복된 패키지를 최소화하기 위해 각 패키지가 의존하고 있는 패키지를 최상단으로 올림</li>\n<li>결론은.. 내가 설치하지 않았는데 패키지가 최상단으로 올리다보니 라이브러리를 사용하게 되는 이슈 발생</li>\n</ul>\n<h3 id=\"용량-이슈\" style=\"position:relative;\"><a href=\"#%EC%9A%A9%EB%9F%89-%EC%9D%B4%EC%8A%88\" aria-label=\"용량 이슈 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>용량 이슈</h3>\n<ul>\n<li>yarn 1.0, npm에서는 모든 라이버리를 node_modules에 설치하다보니 중복되는 패키지들이 package 별로 계속 설치되는 이슈</li>\n</ul>\n<h2 id=\"pnpm을-통해서-어떤걸-해결할-수-있을까\" style=\"position:relative;\"><a href=\"#pnpm%EC%9D%84-%ED%86%B5%ED%95%B4%EC%84%9C-%EC%96%B4%EB%96%A4%EA%B1%B8-%ED%95%B4%EA%B2%B0%ED%95%A0-%EC%88%98-%EC%9E%88%EC%9D%84%EA%B9%8C\" aria-label=\"pnpm을 통해서 어떤걸 해결할 수 있을까 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PNPM을 통해서 어떤걸 해결할 수 있을까??</h2>\n<h3 id=\"유령-의존성-해결\" style=\"position:relative;\"><a href=\"#%EC%9C%A0%EB%A0%B9-%EC%9D%98%EC%A1%B4%EC%84%B1-%ED%95%B4%EA%B2%B0\" aria-label=\"유령 의존성 해결 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>유령 의존성 해결</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// package.json</span>\n<span class=\"token string-property property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token string-property property\">\"foo\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// node_modules 폴더 구조</span>\nnode_modules\n├── foo <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>pnpm<span class=\"token operator\">/</span>foo@<span class=\"token number\">1.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span>node_modules<span class=\"token operator\">/</span>foo <span class=\"token comment\">// symbolic link</span>\n└── <span class=\"token punctuation\">.</span>pnpm\n    ├── bar@<span class=\"token number\">1.0</span><span class=\"token number\">.0</span>\n    │   └── node_modules\n    │       ├── bar <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>store</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">/bar // hard link\n    │       └── qar -> ../../qar@2.0.0/node_modules/qar // symbolic link\n    ├── foo@1.0.0\n    │   └── node_modules\n    │       ├── foo -> </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>store</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">/foo // hard link\n    │       ├── bar -> ../../bar@1.0.0/node_modules/bar // symbolic link\n    │       └── qar -> ../../qar@2.0.0/node_modules/qar // symbolic link\n    └── qar@2.0.0\n        └── node_modules\n            └── qar -> </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>store</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">/qar</span></code></pre></div>\n<ul>\n<li>\n<p>pnpm 패키지를 호이스팅 대신, 글로벌 저장소(~/.pnpm-store)에 패키지를 글로벌하게 저장</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">$ pnpm store path\n\nLibrary<span class=\"token operator\">/</span>pnpm<span class=\"token operator\">/</span>store<span class=\"token operator\">/</span>v3 <span class=\"token comment\">// 글로벌 저장소 패스</span></code></pre></div>\n</li>\n<li>\n<p>글로벌 저장소(~/.pnpm-store)에 설치된 패키지 경로와 가상 저장소(.pnpm) 하드 링크로 연결</p>\n<ul>\n<li>node_modules/.pnpm/~~</li>\n<li>패키지의 버전을 명시한 폴더명 생성(<a href=\"mailto:bar@1.0.0\" target=\"_blank\" rel=\"nofollow\">bar@1.0.0</a>) 후 node_modules 하위에 링크 연결</li>\n<li>패키지 폴더와 심볼릭 링크 파일까지 추가됨에 따라서 node_modules에 용량을 늘어날 수 있음</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"># yarn 으로 설치한 용량\ndu <span class=\"token operator\">-</span>shL <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>node_modules\n<span class=\"token number\">3</span><span class=\"token punctuation\">.</span>0G\n\n# pnpm 으로 설치한 용량\ndu <span class=\"token operator\">-</span>shL <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>node_modules\n<span class=\"token number\">3</span><span class=\"token punctuation\">.</span>4G</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/166deebcc76800826499cc5b4a60aa47/52c6a/Untitled2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 78.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACG0lEQVR42o2TWVMaURCF52+E2bc7zDArywwIs4CJGiOgqAE0ZfKYPJil8v/rpO9gqRUVePiqe7rg9Onb9wre4QLxyQru+AJOOYNdbHCqeY0+PNvU8imS0zW60y8Ij5foUN6j3H9/BX9yBrM6h1FeQGiHAbpxBGbosAn2gKVpMDUFfpMhcJsIvSZ810Hi28i6CQ6yFHm/h2HaRSd0MehEGFAu+EEI07QhijIkSamRZRWWxWDZDMxpwiGY40LTDUIF8314QUTCHWRpD+0ogsfot60AQpb1cff1Gz4vV1iu1litb7C4vKpFLMuGTaIbbGiaSs2osSiRARGNRgPviAbloiRRXYSQpimur1c4m84wnc0xm5/j9PTTK4IMqqpCURQoFNXn8NoDgue1qLNOHamDJNfIsvJCjDcwDKN2qDwT+B8hjhNwbObU58V4JJ6LcXhN1/XdggEtJfCDF45e43HkbYIRuQuj+MnhFjS6SjsF43YHHNZ04bjeVvYS9GncFi3GMi3YfOwt7DUyX0iStB8P/i02Z7iHQ74UfnV0w4RBLmsM6yl/gL+mvQTDVgtVnmNcFjisKoyLApOyRFXkKPMRitEIk6rEgN6uqiq7BZtJimzyEcMPU4yOpihOZsiP5xTn9D2r6zzvFkeQ6QEoyo57KBdzxJffcXD7G4P1T2Sre2QUB7d/0F//Qrq8R373F/HiB0TThSpL9Me3l/MPM+rcn92Og5wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/166deebcc76800826499cc5b4a60aa47/4fae8/Untitled2.webp 256w,\n/static/166deebcc76800826499cc5b4a60aa47/2bf0f/Untitled2.webp 512w,\n/static/166deebcc76800826499cc5b4a60aa47/d71bc/Untitled2.webp 1024w,\n/static/166deebcc76800826499cc5b4a60aa47/688d3/Untitled2.webp 1452w\"\n              sizes=\"(max-width: 1024px) 100vw, 1024px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/166deebcc76800826499cc5b4a60aa47/e3135/Untitled2.png 256w,\n/static/166deebcc76800826499cc5b4a60aa47/06341/Untitled2.png 512w,\n/static/166deebcc76800826499cc5b4a60aa47/42a19/Untitled2.png 1024w,\n/static/166deebcc76800826499cc5b4a60aa47/52c6a/Untitled2.png 1452w\"\n            sizes=\"(max-width: 1024px) 100vw, 1024px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/166deebcc76800826499cc5b4a60aa47/42a19/Untitled2.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</li>\n<li>\n<p>node_modules에서는 package.json 설치된 패키지를 하드 링크를 통해서 글로벌 패키지와 링크 설정</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">ls <span class=\"token operator\">-</span>li <span class=\"token operator\">~</span><span class=\"token operator\">/</span>Library<span class=\"token operator\">/</span>pnpm<span class=\"token operator\">/</span>store<span class=\"token operator\">/</span>v3<span class=\"token operator\">/</span>files<span class=\"token operator\">/</span>3c<span class=\"token operator\">/</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span>json 해시값<span class=\"token punctuation\">}</span>\n<span class=\"token number\">11136652</span> # inode가 같다\n\nls <span class=\"token operator\">-</span>li node_modules<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>pnpm<span class=\"token operator\">/</span>gatsby<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>sharp@<span class=\"token number\">5.13</span><span class=\"token number\">.3</span><span class=\"token operator\">/</span>node_modules<span class=\"token operator\">/</span>gatsby<span class=\"token operator\">-</span>plugin<span class=\"token operator\">-</span>sharp<span class=\"token operator\">/</span><span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span>json\n<span class=\"token number\">11136652</span> # inode가 같다</code></pre></div>\n</li>\n<li>\n<p>패키지와 의존한 서브 패키지에 대해서는 심볼릭 링크로 구성\npackage.json 설치된 패키지 → node_modules 1depth에 폴더 추가 및 심볼릭 링크 연결</p>\n<ul>\n<li>node_modules 1depth → .pnpm 가상 저장소 심볼릭 링크\n.pnpm dependencies 패키지 → .pnpm 가상 저장소 심볼릭 링크</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">ls <span class=\"token operator\">-</span>li <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>node_modules</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 894px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c681f2c4e639f003f8137b61d53d73f7/18841/Untitled3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 10.546875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdklEQVR42h2Muw3AIBQDs0hElSYVEiQIAeIboKFgB/ZfwRGvcGP77hhjYK2FOSc454gxorVG6b3j+z7qvPcopSDnjForrLX011rjui6c5wnGGA6lFAHv++J5Hjo550iUUiJwy7dww3sLIcAYAyklRQhB7H3f+AHYvUQICKQabgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c681f2c4e639f003f8137b61d53d73f7/4fae8/Untitled3.webp 256w,\n/static/c681f2c4e639f003f8137b61d53d73f7/2bf0f/Untitled3.webp 512w,\n/static/c681f2c4e639f003f8137b61d53d73f7/52831/Untitled3.webp 894w\"\n              sizes=\"(max-width: 894px) 100vw, 894px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c681f2c4e639f003f8137b61d53d73f7/e3135/Untitled3.png 256w,\n/static/c681f2c4e639f003f8137b61d53d73f7/06341/Untitled3.png 512w,\n/static/c681f2c4e639f003f8137b61d53d73f7/18841/Untitled3.png 894w\"\n            sizes=\"(max-width: 894px) 100vw, 894px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c681f2c4e639f003f8137b61d53d73f7/18841/Untitled3.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">ls <span class=\"token operator\">-</span>li <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>node_modules<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>pnpm<span class=\"token operator\">/</span>gh<span class=\"token operator\">-</span>pages@<span class=\"token number\">6.1</span><span class=\"token number\">.1</span><span class=\"token operator\">/</span>node_modules</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/480be7fdeb55d70db86d4bb5b0cdca98/b4ad3/Untitled4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.109375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAd0lEQVR42h2LSwqAIBiEu0q1VDIyQU0FF4Fbw9f9LzLhvxiGeXyLMQYxRkx/3xcpJeScUWvFGAPf96GUgt47Wmv0O44DSikwxrBtG2nfd6zrimUO1lporekkhADnHFJKOOeof54H3nuEEChPze2+b5znScx1XcT9pBZDDEysMCYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/480be7fdeb55d70db86d4bb5b0cdca98/4fae8/Untitled4.webp 256w,\n/static/480be7fdeb55d70db86d4bb5b0cdca98/2bf0f/Untitled4.webp 512w,\n/static/480be7fdeb55d70db86d4bb5b0cdca98/d71bc/Untitled4.webp 1024w,\n/static/480be7fdeb55d70db86d4bb5b0cdca98/5c666/Untitled4.webp 1080w\"\n              sizes=\"(max-width: 1024px) 100vw, 1024px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/480be7fdeb55d70db86d4bb5b0cdca98/e3135/Untitled4.png 256w,\n/static/480be7fdeb55d70db86d4bb5b0cdca98/06341/Untitled4.png 512w,\n/static/480be7fdeb55d70db86d4bb5b0cdca98/42a19/Untitled4.png 1024w,\n/static/480be7fdeb55d70db86d4bb5b0cdca98/b4ad3/Untitled4.png 1080w\"\n            sizes=\"(max-width: 1024px) 100vw, 1024px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/480be7fdeb55d70db86d4bb5b0cdca98/42a19/Untitled4.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</li>\n<li>\n<p>node_modules 1depth 하위에는 package.json 설치된 패키지만 구성됨으로 유령 의존성은 제거\n패키지 hoisted 처리가 되지 않으므로 1 depth에 패키지가 설치가 안되고 프로젝트 실행 시 사용하지 않는 패키지 사용 시 에러 발생하게 됩니다.</p>\n</li>\n</ul>\n<p>→ 모든 패키지를 연관된 패키지만 묶기 때문에 관련 없는 패키지 접근을 차단할 수 있으며, 호이스팅 처럼 복잡한 작업을 굳이 할 필요가 없어서 관리가 쉬워진다.</p>\n<h3 id=\"용량-이슈-해결\" style=\"position:relative;\"><a href=\"#%EC%9A%A9%EB%9F%89-%EC%9D%B4%EC%8A%88-%ED%95%B4%EA%B2%B0\" aria-label=\"용량 이슈 해결 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>용량 이슈 해결</h3>\n<ul>\n<li>글로벌 저장소(~/.pnpm-store)에 패키지를 한곳에 관리하고 하드링크/소프트링크를 통해서 node_modules를 구성하니 용량이 줄어들고 또한 성능/빌드속도 개선 가능</li>\n</ul>\n<h1 id=\"yarn-classic10--pnpm-migration\" style=\"position:relative;\"><a href=\"#yarn-classic10--pnpm-migration\" aria-label=\"yarn classic10  pnpm migration permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Yarn classic(1.0) → PNPM Migration</h1>\n<h2 id=\"node-version-check--change\" style=\"position:relative;\"><a href=\"#node-version-check--change\" aria-label=\"node version check  change permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Node Version Check &#x26; Change</h2>\n<ul>\n<li>PNPM 8 버전 이상에서는 Node 16 버전 이상 설치 필요</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 830px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8fc9637fc0dfff70642b1a8445639efa/026af/Untitled5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIUlEQVR42mWT6XLbMAyE9f6Plh+xp7GbZCa26/q+5Nq6KJEyig8s5XbKGQ21PIDFLpiVZSmHw0F2u51cr1ep6lryPLe18/ks7DPv93u56Dr4eDza/u12k/v9bpjvfLlIxoHJdCqvo5Esl0txrpX5fC4jxfP5QgNUMp1+t/3Vai1FUcj4dSRvk4kmvlqg8XhsZzabrWTOOXk8HtL3vXjvpa4bm0MI0nVemqax/4g7xU6CngW7tjUCgfuht+qym1KezWZa8l5Op5P0j95KbnSTQSLWScIIWlH38mIkGH6zEf/2zf5bTZBxkMi1frC1zDoTiEtgWPJvWFn2qpVVBaYClSEG7CRDVMT+pQIjMoHRlY9AYHSrqsowyW/6z3qjiSuqUR1d19q5DAc/Pj/NkNVqpRdrc5zgMCXQer0eKoAA2JFMqysXP6RUw1wfpLhrQGiGEEX2PpjIiM/nXBdF1z3O/Y9bnb10GKYYMlbyYrHQvoq91Xk/aJZMoQqCMNgHp0EF9K9pqCQymBCZknAptkxvgZ6tVA84tk4ztBoycI8BY2NIm6QZMxCXS9GU5h9TCM5ZMwWTdB1M4KIoJTsp/ff3Dyt7ufypZtyj23+cJEE0KwakGzAlJeQ+JsKSwFZyoh/FfpoSjWmHV8JeNPGJeU3IYtKll/L1FV/KZrsd2iOZwjODSRpc5P2mQQX5JX82djKFS8mU9ErSS/kbs8/FhFMlKeBvHXOE/gmxkBYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8fc9637fc0dfff70642b1a8445639efa/4fae8/Untitled5.webp 256w,\n/static/8fc9637fc0dfff70642b1a8445639efa/2bf0f/Untitled5.webp 512w,\n/static/8fc9637fc0dfff70642b1a8445639efa/73426/Untitled5.webp 830w\"\n              sizes=\"(max-width: 830px) 100vw, 830px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8fc9637fc0dfff70642b1a8445639efa/e3135/Untitled5.png 256w,\n/static/8fc9637fc0dfff70642b1a8445639efa/06341/Untitled5.png 512w,\n/static/8fc9637fc0dfff70642b1a8445639efa/026af/Untitled5.png 830w\"\n            sizes=\"(max-width: 830px) 100vw, 830px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8fc9637fc0dfff70642b1a8445639efa/026af/Untitled5.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>nvm 활용한 노드 버전 설치 및 변경\n<ul>\n<li>nvm(node version manager) : 여러개의 노드 버전을 사용할 수 있는 도구</li>\n</ul>\n</li>\n<li>nvm 명령어</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">nvm <span class=\"token function\">install</span> v<span class=\"token punctuation\">[</span>설치버전<span class=\"token punctuation\">]</span>\n<span class=\"token comment\">## 설치 : nvm install v11.10.1</span>\n\nnvm uninstall v<span class=\"token punctuation\">[</span>설치버전<span class=\"token punctuation\">]</span>\n<span class=\"token comment\">## 삭제 : nvm uninstall v11.10.1</span>\n\nnvm use v<span class=\"token punctuation\">[</span>사용할 버전<span class=\"token punctuation\">]</span>\n<span class=\"token comment\">## 사용 : nvm use v6.10.1, .nvmrc가 명시되어있다면 그냥 nvm use만 하셔도됩니다.</span>\n<span class=\"token comment\">## 버전만이 아닌 네이밍으로 선택이 가능합니다.</span>\n\nnvm <span class=\"token function\">ls</span>\nnvm list\n<span class=\"token comment\">## 현재 설치된 노드 버전 리스트를 보여줍니다.</span>\n\nnvm ls-remote\n<span class=\"token comment\">## 설치 가능한 원격 노드 버전까지 보여줍니다.</span>\n\nnvm <span class=\"token builtin class-name\">alias</span> default v<span class=\"token punctuation\">[</span>설치버전<span class=\"token punctuation\">]</span>\n<span class=\"token comment\">## 터미널 시작시 노드 기본버전 설정</span>\n\n<span class=\"token function\">node</span> <span class=\"token parameter variable\">--v</span>\n<span class=\"token comment\">## 노드 버전 확인</span>\n\nnvm <span class=\"token parameter variable\">--version</span>\n<span class=\"token comment\">## nvm 버전 확인</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 566px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d9099accbe27c46b8225fc23d37b5426/7ef45/Untitled6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.046875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACyUlEQVR42nWUWVMiMRSF+RWjJUsjdKeT9AqIQIuIyo4KNToMbri/Wfr/n86ctFOWo+PDrVSlOl/OPeemM35zCN0cwa7sQroSkach4h0EyQBhMoSfTCF0iFxuA7l8HoVC4b0sy0rr415m6Hloui6Ukki0Rk97qPs+ZtMpJuMR5vMZBr0epHDhlG0UCcgTbCqXy/2zpsB2FOAwCjEOQ8TSRdlTaITcIzTmBSezOXqjIQbTMXa6HdiugFW0UC6XIYRIV9u2USqVUmjmx0EN640Aigos38Xabow17q3VfYRRDCUV1usa690q1lo+1lsBRC3EXqeDxWKB8XiMyWSCZrOJzc1NZPLdGNnBFrKxgmfa2lLI8lChE8CpaNTCCEVPYoMXbW4HyCUhrKoHjx0cHx1jOKT6wQDtdpu2KWSWv10cTW1o5cDjwcnExnQscMS6upSob0loL0SdH4+DEI0gQLFYfPfxY6Uenp9L/Dx18fCgcXnpwvcNWKFFQMf3kDCsgF5qgrYZ4IheNysV5D+l+57ycikJUri7U1guXYShTZMFdghsK409wmrS7If0U6JP8KBaZUcqTfcL8OJC4pQKr68kHh81+n0CHRcRR6lHSMsLsOv5qNNLwQu2ecGQ+404Ru47haZeXnzc3CiqlahWRapSc8D91gi61oWMWiiVHR7Ko0QPTRkvvwAXCwlTq5XC7a3CdOLAEZKJC+z7AX0M0GWbCVus/PXSBGS8bNHLLMOwPiucz0UKfHrSWF2/KTRQE4gZ8A7D2OIFVa6eaZfrNIqQ0MsvwLMzN23z/p6v4kTg4sJFreakPhrgPoGHVLnDQAIqSxVSaZo2ffwCNGOzWkk8P/v4xdZfX330GIywOeTaRZ6vxmpwmJMYhcBNfwbmPX/roRmZ2eyt5X7fQcQXE2uRKjA/i1boIdL0tBJDaoV9tntA7wSnIPufsfkDECDRmtZs56QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d9099accbe27c46b8225fc23d37b5426/4fae8/Untitled6.webp 256w,\n/static/d9099accbe27c46b8225fc23d37b5426/2bf0f/Untitled6.webp 512w,\n/static/d9099accbe27c46b8225fc23d37b5426/2ba41/Untitled6.webp 566w\"\n              sizes=\"(max-width: 566px) 100vw, 566px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d9099accbe27c46b8225fc23d37b5426/e3135/Untitled6.png 256w,\n/static/d9099accbe27c46b8225fc23d37b5426/06341/Untitled6.png 512w,\n/static/d9099accbe27c46b8225fc23d37b5426/7ef45/Untitled6.png 566w\"\n            sizes=\"(max-width: 566px) 100vw, 566px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d9099accbe27c46b8225fc23d37b5426/7ef45/Untitled6.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>.nvmrc 버전 변경\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># .nvmrc 파일</span>\n<span class=\"token comment\">## lts/fermium 변경</span>\nlts/hydrogen</code></pre></div>\n<ul>\n<li>프로젝트의 경우, 각 프로젝트별로 요구하는 노드 버전이 다를 수 있기 때문에 매번 node를 재설치하고 삭제하기 보다는 NVM을 이용해 해당 프로젝트에서 쓸 노드 버전을 바뀌주면 편리하다.</li>\n<li>해당 프로젝트를 clone 받은 작업자는 아래 명령어만 입력하면 해당 노드 버전을 사용 가능합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">nvm <span class=\"token function\">install</span>  // 만약 본인의 nvm에 해당 버전이 없다면 실행\nnvm use      // 필수 실행</code></pre></div>\n</li>\n</ul>\n<h2 id=\"설치\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98\" aria-label=\"설치 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설치</h2>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// Homebrew 사용하기</span>\nbrew install pnpm\n\n<span class=\"token comment\">// npm 사용하기</span>\nnpm install <span class=\"token operator\">-</span>g pnpm\nnpm install <span class=\"token operator\">-</span>g <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">pnpm</span></span><span class=\"token operator\">/</span>exe</code></pre></div>\n<h2 id=\"migration\" style=\"position:relative;\"><a href=\"#migration\" aria-label=\"migration permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Migration</h2>\n<ul>\n<li>기존 yarn.lock 파일 삭제</li>\n<li>기존 node_modules 삭제\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> node_modules</code></pre></div>\n</li>\n<li>패키지 설치\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">pnpm</span> <span class=\"token function\">install</span></code></pre></div>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4feb946efbfc2aa90b22763f14dd9180/bac97/Untitled7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR42j1PWwqEMBDrRXw/EEUQoXbVom3BBdn7nydrBupHyGSmnWTUsmgcxwchWFhrMM8z+r5HWZYoikI4z/NXs66qSjSRJIkgTVNhNU0TruuL+/7BOY9t26C1xjAM6LpOPrVti7quBdRc2DSN1OxRRyPFreM4PukszvN80h7w3j8mlyx3zkl/33eZsWeMEWaP8xAC1nUVY8UkXEgHnpRl2VtHZhKeFGesiTiPb3jyH1VieFPzrLzQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4feb946efbfc2aa90b22763f14dd9180/4fae8/Untitled7.webp 256w,\n/static/4feb946efbfc2aa90b22763f14dd9180/2bf0f/Untitled7.webp 512w,\n/static/4feb946efbfc2aa90b22763f14dd9180/d71bc/Untitled7.webp 1024w,\n/static/4feb946efbfc2aa90b22763f14dd9180/86a10/Untitled7.webp 1128w\"\n              sizes=\"(max-width: 1024px) 100vw, 1024px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4feb946efbfc2aa90b22763f14dd9180/e3135/Untitled7.png 256w,\n/static/4feb946efbfc2aa90b22763f14dd9180/06341/Untitled7.png 512w,\n/static/4feb946efbfc2aa90b22763f14dd9180/42a19/Untitled7.png 1024w,\n/static/4feb946efbfc2aa90b22763f14dd9180/bac97/Untitled7.png 1128w\"\n            sizes=\"(max-width: 1024px) 100vw, 1024px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4feb946efbfc2aa90b22763f14dd9180/42a19/Untitled7.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></li>\n<li>pnpm-lock.yaml 파일 생성 확인</li>\n<li>커맨드 명령어 실행\n<ul>\n<li>pnpm start</li>\n<li>pnpm build</li>\n<li>pnpm test</li>\n<li>…</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"trouble-shooting\" style=\"position:relative;\"><a href=\"#trouble-shooting\" aria-label=\"trouble shooting permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Trouble Shooting</h2>\n<h3 id=\"yarn-workspace--packagejson-설치-삭제\" style=\"position:relative;\"><a href=\"#yarn-workspace--packagejson-%EC%84%A4%EC%B9%98-%EC%82%AD%EC%A0%9C\" aria-label=\"yarn workspace  packagejson 설치 삭제 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>yarn workspace &#x26; package.json 설치 삭제</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// yarn workspace 설정된 package.json 삭제</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">\"private\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"workspace\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.0.0\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// workspace 사용했던 지점의 package.json에서도 동일하게 삭제</span>\n<span class=\"token string-property property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n\t<span class=\"token comment\">// \"workspace\": \"0.0.0\" -> 삭제</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"workspace-삭제로-인한-alias-처리\" style=\"position:relative;\"><a href=\"#workspace-%EC%82%AD%EC%A0%9C%EB%A1%9C-%EC%9D%B8%ED%95%9C-alias-%EC%B2%98%EB%A6%AC\" aria-label=\"workspace 삭제로 인한 alias 처리 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>workspace 삭제로 인한 alias 처리</h3>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">\n<span class=\"token comment\">// tsconfig.json -> typescript 사용</span>\n<span class=\"token string-property property\">\"paths\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token string-property property\">\"workspace/*\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"./src/workspace/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// jest</span>\n<span class=\"token string-property property\">\"jest\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">\"moduleNameMapper\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t  <span class=\"token string-property property\">\"workspace/(.*)\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;rootDir>/src/workspace/$1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// storybook</span>\n<span class=\"token comment\">// .storybook/main.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function-variable function\">webpackFinal</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\tconfig<span class=\"token punctuation\">.</span>resolve<span class=\"token punctuation\">.</span>alias <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>resolve<span class=\"token punctuation\">.</span>alias <span class=\"token operator\">||</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      workspace<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'../src/workspace'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token operator\">...</span>config<span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"storybook-실행-에러\" style=\"position:relative;\"><a href=\"#storybook-%EC%8B%A4%ED%96%89-%EC%97%90%EB%9F%AC\" aria-label=\"storybook 실행 에러 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>storybook 실행 에러</h3>\n<ul>\n<li>\n<p>Cannot find module ‘node_modules/config/webpack.config’</p>\n<ul>\n<li>패키지에서 getReactScriptsPath 함수 호출 시 npm/yarn, pnpm이 다른 패스에서 검색을 하게 됨에 따라서 config 파일을 못 찾는 이슈\n<ul>\n<li>npm, yarn classic(1.0): node_modules/.bin/react-script</li>\n<li>pnpm: node_modules</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// .storybook/main.js</span>\n<span class=\"token comment\">// 변경 전</span>\naddons<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t<span class=\"token string\">'@storybook/preset-create-react-app'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token comment\">// 변경 후</span>\naddons<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">'@storybook/preset-create-react-app'</span><span class=\"token punctuation\">,</span>\n    options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// preset-create-react-app에 패키지명을 react-scripts로 지정해서 접근이 가능하도록 수정</span>\n      scriptsPackageName<span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/49b6ab68d65cd989e49a3ec4913a2628/2ddc0/Untitled9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 6.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPklEQVR42mPQU1f77+Dg8N/e3v6/jY0NGIPYtra2/y0tLf+bmZn9Nzc3h2MQHyYGog0MDMBYW1v7v4qKyn8AKLAglX7PuJwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/49b6ab68d65cd989e49a3ec4913a2628/4fae8/Untitled9.webp 256w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/2bf0f/Untitled9.webp 512w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/d71bc/Untitled9.webp 1024w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/f3efb/Untitled9.webp 1536w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/96d48/Untitled9.webp 2048w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/a2d2c/Untitled9.webp 2294w\"\n              sizes=\"(max-width: 1024px) 100vw, 1024px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/49b6ab68d65cd989e49a3ec4913a2628/e3135/Untitled9.png 256w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/06341/Untitled9.png 512w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/42a19/Untitled9.png 1024w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/e8464/Untitled9.png 1536w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/2eb59/Untitled9.png 2048w,\n/static/49b6ab68d65cd989e49a3ec4913a2628/2ddc0/Untitled9.png 2294w\"\n            sizes=\"(max-width: 1024px) 100vw, 1024px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/49b6ab68d65cd989e49a3ec4913a2628/42a19/Untitled9.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li><a href=\"https://github.com/storybookjs/presets/issues/242\" target=\"_blank\" rel=\"nofollow\">https://github.com/storybookjs/presets/issues/242</a></li>\n</ul>\n</li>\n<li>\n<p>tsconfig에 path(alias) 세팅을 storybook 주입해도 alias 처리 안되는 이슈</p>\n<ul>\n<li>tsconfig.json에 지정된 alias 사용을 위한 TsconfigPathPlugin 설치해서 스토리북 웹팩에 주입했지만, 정상동작하지 않아서 개별 alias 처리로 대체</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// .storybook/main.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">stories</span><span class=\"token operator\">:</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">getStories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">webpackFinal</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n\t  <span class=\"token comment\">// 직접 alias 처리하도록 처리</span>\n\t  config<span class=\"token punctuation\">.</span>resolve<span class=\"token punctuation\">.</span>alias <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">.</span>resolve<span class=\"token punctuation\">.</span>alias <span class=\"token operator\">||</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      workspace<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'../src/workspace'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n\t  <span class=\"token comment\">// typescript path(alias) 스토리북에 주입하는 코드가 정상동작하지 않음</span>\n\t  <span class=\"token comment\">/* config.resolve.plugins.push(\n      new TsconfigPathsPlugin({\n        configFile: path.resolve(__dirname, '../tsconfig.json'),\n        extensions: ['.ts', '.tsx', '.js', '.jsx'],\n      }),\n    ); */</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t    <span class=\"token operator\">...</span>config<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"msw-에러\" style=\"position:relative;\"><a href=\"#msw-%EC%97%90%EB%9F%AC\" aria-label=\"msw 에러 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>msw 에러</h3>\n<ul>\n<li>Module System 방식이 달라서 에러 발생(msw-storybook-addon, msw)\n원인: storybook에서 msw 연동 시 필요한 패키지인 msw-storybook-addon이 commonJS 방식으로 구성되어 있고, msw 패키지 설치 시 종속성으로 걸려 있는 headers-polyfill은 ESM 방식으로 구성되어 있어 Module Parsing 에러 발생</li>\n<li>특히 msw 패키지에 headers-polyfill(^3.~)이 캐럿(^) 방식으로 설치하고 있어서 현재 최신 버전인 3.2.5 설치가 되다보니 ESM 방식의 모듈을 사용하게 되서 에러가 발생\n수정: headers-polyfill을 사용하지 않는 버전 중에 가장 최근 버전인 0.36.8 설치해서 해결\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eeb9d4d1db94bc7f2c8f783764dc8f76/3d705/Untitled10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.421875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPUlEQVR42mPwUFf/76KmBsZeQDaI76Wh8d8NSLtD+WbKyv8tVVTA2AqILYDYGojNodhGVfW/BVCNmbLKfwDTzx6seetr3wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/eeb9d4d1db94bc7f2c8f783764dc8f76/4fae8/Untitled10.webp 256w,\n/static/eeb9d4d1db94bc7f2c8f783764dc8f76/2bf0f/Untitled10.webp 512w,\n/static/eeb9d4d1db94bc7f2c8f783764dc8f76/d71bc/Untitled10.webp 1024w,\n/static/eeb9d4d1db94bc7f2c8f783764dc8f76/71c23/Untitled10.webp 1470w\"\n              sizes=\"(max-width: 1024px) 100vw, 1024px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/eeb9d4d1db94bc7f2c8f783764dc8f76/e3135/Untitled10.png 256w,\n/static/eeb9d4d1db94bc7f2c8f783764dc8f76/06341/Untitled10.png 512w,\n/static/eeb9d4d1db94bc7f2c8f783764dc8f76/42a19/Untitled10.png 1024w,\n/static/eeb9d4d1db94bc7f2c8f783764dc8f76/3d705/Untitled10.png 1470w\"\n            sizes=\"(max-width: 1024px) 100vw, 1024px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/eeb9d4d1db94bc7f2c8f783764dc8f76/42a19/Untitled10.png\"\n            alt=\"Untitled\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// MSW 버전 downgrade</span>\npnpm install msw@<span class=\"token number\">0.36</span><span class=\"token number\">.8</span></code></pre></div>\n</li>\n</ul>\n<h1 id=\"참고페이지\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%ED%8E%98%EC%9D%B4%EC%A7%80\" aria-label=\"참고페이지 permalink\" class=\"custom-class before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고페이지</h1>\n<ul>\n<li><a href=\"https://jeonghwan-kim.github.io/2023/10/20/pnpm#%EC%9A%A9%EB%9F%89-npm\" target=\"_blank\" rel=\"nofollow\">pnpm</a></li>\n</ul>","frontmatter":{"title":"PNPM","date":"2024.03.18","category":"개발","tags":["package manager"]},"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%8F%84%EC%9E%85-%EB%B0%B0%EA%B2%BD\">도입 배경</a></p>\n<ul>\n<li><a href=\"#npm-yarn-classic10-%ED%8C%A8%ED%82%A4%EC%A7%80-%EB%A7%A4%EB%8B%88%EC%A0%80-%EB%AC%B8%EC%A0%9C%EC%A0%90\">NPM, Yarn Classic(1.0) 패키지 매니저 문제점</a></li>\n<li><a href=\"#pnpm%EC%9D%84-%ED%86%B5%ED%95%B4%EC%84%9C-%EC%96%B4%EB%96%A4%EA%B1%B8-%ED%95%B4%EA%B2%B0%ED%95%A0-%EC%88%98-%EC%9E%88%EC%9D%84%EA%B9%8C\">PNPM을 통해서 어떤걸 해결할 수 있을까??</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#yarn-classic10--pnpm-migration\">Yarn classic(1.0) → PNPM Migration</a></p>\n<ul>\n<li><a href=\"#node-version-check--change\">Node Version Check &#x26; Change</a></li>\n<li><a href=\"#%EC%84%A4%EC%B9%98\">설치</a></li>\n<li><a href=\"#migration\">Migration</a></li>\n<li><a href=\"#trouble-shooting\">Trouble Shooting</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0%ED%8E%98%EC%9D%B4%EC%A7%80\">참고페이지</a></p>\n</li>\n</ul>"}}]}},"pageContext":{"slug":"/blog/2024/03/2024-03-18-pnpm/","previous":{"fields":{"slug":"/blog/2024/04/2024-04-28-esbuild/"},"frontmatter":{"title":"esbuild"}},"next":{"fields":{"slug":"/blog/2024/03/2024-03-17-remove-unused-dependencies/"},"frontmatter":{"title":"미사용 의존성 제거"}}}},"staticQueryHashes":["3940312266","4157816502"],"slicesMap":{}}