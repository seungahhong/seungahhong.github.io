---
layout: post
title: ë¦¬ì•¡íŠ¸ ìƒíƒœê´€ë¦¬ ì •ë¦¬
date: 2023-09-10
published: 2023-09-10
category: ê°œë°œ
tags: ['ìƒíƒœê´€ë¦¬']
comments: true,
thumbnail: './assets/10/thumbnail.png'
github: 'https://github.com/seungahhong/seungahhong.github.io'
---

# ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±ì¥ ë°°ê²½

ë¦¬ì•¡íŠ¸ëŠ” ì²˜ìŒ ì¶œì‹œë  ë•Œ Model View Controller ì¤‘ Viewë§Œ ë‹´ë‹¹í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë°œí‘œë˜ì—ˆê¸° ë•Œë¬¸ì— ìƒíƒœë¥¼ êµ¬ì„±í•˜ê±°ë‚˜ ê´€ë¦¬í•˜ëŠ” ë°©ì•ˆì´ í•„ìš”í•´ì¡Œê³ , ì´ˆì°½ê¸°ì—ëŠ” ìƒíƒœì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ Container/Presenterì— ëª°ì•„ë„£ê³  Viewë¡œì§ì„ propsë¡œ ë°›ì•„ ë¿Œë ¤ì£¼ê¸°ë§Œ í•˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ê°œë°œì„ ì§„í–‰í•´ ë‚˜ê°”ìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ìœ„ê°€ ì»¤ì§€ë©´ì„œ ì–‘ë°©í–¥ ë°ì´í„° ì´ë™ì´ ê°€ëŠ¥í•œ MVC/MVP êµ¬ì¡°ì—ì„œ ê´€ë¦¬í•´ì•¼í•  ìƒíƒœì™€ ìƒíƒœë¥¼ í•¸ë“¤ë§í•˜ëŠ” ì»´í¬ë„ˆíŠ¸ê°€ ë§ì•„ì§€ë©´ì„œ êµ¬ì¡°ê°€ ë³µì¡í•´ì§€ê³  ë˜í•œ ë¶€ëª¨ì—ì„œ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ìì‹ì—ê²Œ propsë¡œ ì „ë‹¬í•˜ë‹¤ë³´ë‹ˆ props drilling ë¬¸ì œê°€ ë°œìƒí•˜ê²Œ ë˜ì—ˆê³ , ì´ìŠˆë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë“±ì¥í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

![Untitled](./assets/10/Untitled.png)

## ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œ

**ì €ì¥ëœ ìƒíƒœë¥¼ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì–´ë””ì—ì„œë“ ì§€ ì½ì–´ ì˜¬ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥**

- ë¦¬ì•¡íŠ¸ ëŸ°íƒ€ì„ ë‚´ë¶€
  - ê³µìœ ë˜ëŠ” ê°’ì„ ì „íŒŒí•˜ê¸° ìœ„í•´ ë¦¬ì•¡íŠ¸ contextì™€ ê²°í•©í•˜ì—¬, `useState`,Â `useRef`Â ë˜ëŠ”Â `useReducer` ê°™ì€ ê¸°ëŠ¥ í™œìš© â†’ ì£¼ìš”ê³¼ì œëŠ” ë¦¬ë Œë”ë§ ìµœì í™”ì— ëŒ€í•œ ì²˜ë¦¬ëŠ” ê³ ë¯¼í•´ë´ì•¼í•¨.
- ë¦¬ì•¡íŠ¸ ì™¸ë¶€ì˜ ëª¨ë“ˆ ìƒíƒœë¥¼ í™œìš©
  - ëª¨ë“ˆ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ë©´ ì‹±ê¸€í†¤ê³¼ ìœ ì‚¬í•˜ê²Œ ìƒíƒœë¥¼ ì €ì¥
  - êµ¬ë…ì„ í†µí•´ ìƒíƒœê°€ ë³€ê²½ë  ë•Œ ë¦¬ë Œë”ë§ í•˜ë„ë¡ ìµœì í™”ê°€ ìš©ì´
  - ë‹¨, ë©”ëª¨ë¦¬ ë‚´ë¶€ì˜ ë‹¨ì¼ ê°’ì´ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ í•˜ìœ„ íŠ¸ë¦¬ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ë‹¤ë¥¸ ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ìŒ

![Untitled](./assets/10/Untitled1.png)

**ì €ì¥ëœ ìƒíƒœë¥¼ ìˆ˜ì •í•˜ëŠ” ê¸°ëŠ¥**

- ë¦¬ì•¡íŠ¸ UI ëª¨ë¸ì€ ì°¸ì¡° í‰ë“±ê³¼ ë¶ˆë³€(immutable) ì—…ë°ì´íŠ¸ë¥¼ ì§€ì›í•˜ì§€ë§Œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³€ê²½ ê°€ëŠ¥í•œ(mutable) ì–¸ì–´ì…ë‹ˆë‹¤.
- Redux ê°™ì€ ê²½ìš°ì—ëŠ” ëª¨ë“  ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ë°©ì‹ ì±„íƒí•´ì„œ í•´ê²°í–ˆì§€ë§Œ, ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œê°€ ë§ì•„ì§€ëŠ” ë‹¨ì ì´ ìƒê¸°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
  - ë‹¨, ë³€ê²½ ë³€ê²½ ê°€ëŠ¥í•œ ìŠ¤íƒ€ì¼ ì½”ë“œ ì‘ì„±ì„ ë„ì™€ì£¼ëŠ” immerë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì½”ë“œ ê°œì„ ì´ ê°€ëŠ¥í•˜ë‹¤.
- ìš”ì¦˜ì—ëŠ” ê°œë°œìê°€ ë³€ê²½ ê°€ëŠ¥í•œ ìŠ¤íƒ€ì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ valtio(js proxy) ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ë“±ì¥

![Untitled](./assets/10/Untitled2.png)

**ë Œë”ë§ì„ ìµœì í™”í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜**

- **ìˆ˜ë™ ìµœì í™”:** ì¢…ì¢… íŠ¹ì • ìƒíƒœë¥¼ êµ¬ë…í•˜ëŠ” ì…€ë ‰í„° í•¨ìˆ˜ì˜ ìƒì„±ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì¥ì ì€ ì‚¬ìš©ìê°€ êµ¬ë… ë°©ë²•ì„ ì„¸ë°€í•˜ê²Œ ì œì–´í•˜ê³  í•´ë‹¹ ìƒíƒœë¥¼ êµ¬ë…í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì¬ë Œë”ë§ë˜ëŠ” ë°©ë²•ì„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ë‹¨ì ì€ ì´ê²ƒì´ ìˆ˜ë™ í”„ë¡œì„¸ìŠ¤ì´ê³  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš°ë©° APIì— í¬í•¨ë˜ì–´ì„œëŠ” ì•ˆ ë˜ëŠ” ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œê°€ í•„ìš”í•˜ë‹¤ëŠ” ì£¼ì¥ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - redux: useSelector, recoil: useRecoilState, jotai: useAtom
- **ìë™ ìµœì í™”:** ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì‚¬ìš©ìê°€ í•„ìš”í•œ ê²ƒë§Œ ìë™ìœ¼ë¡œ ì¬ë Œë”ë§í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ìµœì í™”í•˜ëŠ” ê³³ì…ë‹ˆë‹¤. ë¬¼ë¡  ì—¬ê¸°ì˜ ì¥ì ì€ ì‚¬ìš©ì´ ê°„í¸í•˜ê³  ì‚¬ìš©ìê°€ ìˆ˜ë™ ìµœì í™”ì— ëŒ€í•´ ê±±ì •í•  í•„ìš” ì—†ì´ ê¸°ëŠ¥ ê°œë°œì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ê²ƒì˜ ë‹¨ì ì€ ì†Œë¹„ìë¡œì„œ ìµœì í™” í”„ë¡œì„¸ìŠ¤ê°€ ë¸”ë™ë°•ìŠ¤ì´ê³  ì¼ë¶€ë¶„ì„ ìˆ˜ë™ìœ¼ë¡œ ìµœì í™”í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ ì—†ìœ¼ë©´ ë„ˆë¬´ ë§ˆìˆ ì²˜ëŸ¼ ëŠê»´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
  - ValtioëŠ” ì—…ë°ì´íŠ¸ë˜ëŠ” ì‹œê¸°ë¥¼ ìë™ìœ¼ë¡œ ì¶”ì í•˜ê³  ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ì–´ì•¼ í•˜ëŠ” ì‹œê¸°ë¥¼ ìë™ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œÂ `Proxy`ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

![Untitled](./assets/10/Untitled3.png)

**ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ ìµœì í™”í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µ**

- ë¦¬ì•¡íŠ¸ ëŸ°íƒ€ì„ ì™¸ë¶€ì˜ ìƒíƒœë¥¼ ëª¨ë“ˆ ìƒíƒœë¡œ ì €ì¥í•˜ëŠ” ìƒíƒœ ê´€ë¦¬
  - íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì— ì—°ê²°ë˜ì§€ ì•Šê³  ìˆ˜ë™ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•  ìˆ˜ë„ ìˆìŒì„ ì˜ë¯¸(redux)
- ë¦¬ì•¡íŠ¸ ëŸ°íƒ€ì„ ë‚´ë¶€ì˜ ìƒíƒœë¡œ ì €ì¥í•˜ëŠ” ìƒíƒœê´€ë¦¬
  - ë¦¬ì•¡íŠ¸ ë¼ì´í”„ì‚¬ì´í´ì— ì—°ê²°í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ í•´ì œë  ë•Œ ìë™ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì„ ë” ì‰½ê²Œ í™œìš©
    - context api, recoil, jotai

![Untitled](./assets/10/Untitled4.png)

**ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° íŒ¨í„´ì˜ ìƒˆë¡œìš´ íë¦„(ìƒí–¥ì‹ ì ‘ê·¼ë²• ë“±ì¥)**

- í•˜í–¥ì‹(top down) ì ‘ê·¼ë²•: ë¦¬ë•ìŠ¤ë¥¼ í¬í•¨í•œ ì´ì „ê¹Œì§€ ë‚˜ì˜¨ ìƒíƒœê´€ë¦¬ ì†”ë£¨ì…˜
  - í•„ìš”í•œ ìƒíƒœë¥¼ ëª¨ë‘ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ìƒë‹¨ì˜ Storeê°€ ê°€ì§€ê³  ìˆìœ¼ë©´ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•„ìš”í•œ ìƒíƒœë¥¼ ê°€ì ¸ë‹¤ ì“°ëŠ” ë°©ì‹
- ìƒí–¥ì‹(bottom up) ì ‘ê·¼ë²•
  - ë¦¬ì•¡íŠ¸ hookì˜ ë“±ì¥ê³¼ í•¨ê»˜ ì‘ì€ ìƒíƒœë‚˜ ë¡œì§ì„ ê°€ì§„ hookë“¤ì„ ì¡°í•©í•´ê°€ë©° ë³µì¡í•œ ìƒíƒœê¹Œì§€ ê´€ë¦¬í•˜ëŠ” ë°©ì‹ì´ ìœ ìš©í•  ìˆ˜ ìˆë‹¤ê³  ì•Œë ¤ì§ì— ë”°ë¼ì„œ ìƒí–¥ì‹ ì ‘ê·¼ë²•ì´ ë…¼ì˜ë¨ì— ë”°ë¼ì„œ ì›ì ë‹¨ìœ„ì˜ ìŠ¤í† ì–´ë¥¼ ê°€ì§€ê²Œ ë¨.
  - ì›ìê°€ ë³€ê²½ëœ ê²½ìš° ì›ìë¥¼ êµ¬ë…í•œ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë˜ëŠ” ë°©ì‹
  - recoil, jotai

![Untitled](./assets/10/Untitled5.png)

**ì»´í¬ë„ŒíŠ¸Â ì¤‘ì‹¬ ì• í”Œë¦¬ì¼€ì´ì…˜ vs ë°ì´í„° ì¤‘ì‹¬ ì• í”Œë¦¬ì¼€ì´ì…˜**

![Untitled](./assets/10/Untitled6.png)

**ì›ê²© ìƒíƒœ ê´€ë¦¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ íŠ¹ë³„íˆ ì œì‘ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬**

- CRUD ìŠ¤íƒ€ì¼ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì¸ ëŒ€ë¶€ë¶„ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° ì „ìš© ì›ê²© ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
- ì¤‘ë³µ ì œê±° ìš”ì²­, ì¬ì‹œë„, í´ë§, ë®¤í…Œì´ì…˜ ê°™ì€ ì²˜ë¦¬
  - [React query](https://react-query.tanstack.com/overview),Â [SWR](https://github.com/vercel/swr),Â [Apollo](https://www.apollographql.com/),Â [Relay](https://relay.dev/), Â [RTK Query](https://redux-toolkit.js.org/introduction/getting-started#rtk-query) í¬í•¨

# ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìš”ì•½

![Untitled](./assets/10/Untitled7.png)

**ìƒíƒœê´€ë¦¬ íŠ¸ë Œë“œ**

![Untitled](./assets/10/Untitled8.png)

[https://npmtrends.com/jotai-vs-mobx-vs-recoil-vs-redux-vs-valtio-vs-xstate-vs-zustand](https://npmtrends.com/jotai-vs-mobx-vs-recoil-vs-redux-vs-valtio-vs-xstate-vs-zustand)

## ContextAPI

ì •ì ì¸ ë°ì´í„° ìœ„ì£¼ë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ê°€ ìì£¼ ë°œìƒí•˜ì§€ ì•Šì„ ë•Œ ì‚¬ìš©í•˜ê¸° ì í•©

ë³µì¡í•œ ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬ ì‹œ ë¹„íš¨ìœ¨ì ì¸ë° ê·¸ ì´ìœ ëŠ” **Providerë¡œ ê°ì‹¸ì§„ ë¶€ë¶„ì˜ ì—…ë°ì´íŠ¸ê°€ ë˜ì§€ ì•Šì€ stateì—ë„ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤.**

## Flux (Redux, Zustand)

![Untitled](./assets/10/Untitled9.png)

**Store** ë¼ëŠ” ìƒíƒœ ì €ì¥ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ, **Action íƒ€ì…ì„ Reducerì— ì „ë‹¬**í•˜ë©´ í•´ë‹¹ íƒ€ì…ì— ë§ëŠ” ë™ì‘ì— ë”°ë¼ ìƒíƒœê°’ì„ ê°±ì‹  ì»´í¬ë„ŒíŠ¸ëŠ” **Selector** ë¥¼ ì‚¬ìš©í•´ Storeì—ì„œ **í•„ìš”í•œ ìƒíƒœê°’ì„ êµ¬ë…(subscribing)** í•˜ëŠ” í˜•íƒœ

**ë¹„ì¦ˆë‹ˆìŠ¤Â ë¡œì§ì„Â ë¦¬ì•¡íŠ¸Â ì»´í¬ë„ŒíŠ¸ì—ì„œÂ ë¶„ë¦¬í•  ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•  ê²½ìš°**

- Redux
  - ReduxëŠ” ì˜¤ì§ í•˜ë‚˜ì˜ storeë§Œ ê°€ì§€ë©°, í•˜ë‚˜ì˜ ê°ì²´ íŠ¸ë¦¬ë¥¼ ê°€ì§€ê¸° ë•Œë¬¸ì— ë””ë²„ê¹…ì´ ìš©ì´í•˜ë‹¤.
  - store ë‚´ë¶€ ìƒíƒœëŠ” action ê°ì²´ì— ì˜í•´ì„œë§Œ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤. ëª¨ë“  state ë³€í™”ë“¤ì´ í•˜ë‚˜ì˜ storeì—ë§Œ ì§‘ì¤‘ë˜ì–´ ìˆê³  ë‹¨ë°©í–¥ìœ¼ë¡œ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì— ì˜ˆì¸¡ ê°€ëŠ¥í•œ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚œë‹¤.
  - reducerëŠ” ìˆœìˆ˜í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•œë‹¤.
  - ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œê°€ ë§ë‹¤ëŠ” ë‹¨ì ì´ ìˆì§€ë§Œ, í•´ë‹¹ ì´ìŠˆë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´ì„œ redux-toolkitì´ ë‚˜ì˜¤ê²Œ ë˜ì—ˆë‹¤.
- Zustand
  - store êµ¬í˜„ ë°©ì‹ ë° ë³€ê²½ ë°©ì‹ì´ ê°„ë‹¨í•¨(reduxì— ë¹„í•´ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œê°€ ì ë‹¤)
  - Providerë¡œ ë˜í•‘í•  í•„ìš”ê°€ ì—†ë‹¤.
  - ë‹¤ì–‘í•œ middleware ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œê³µ(redux, immer, selector(ìƒíƒœë³€ê²½ ì‹œ ìë™ í˜¸ì¶œ), redux-devtools)

## Atomic (Recoil, Jotai)

![Untitled](./assets/10/recoil.jpeg)

![Untitled](./assets/10/Untitled10.png)

- jotai
  - 1ë‹¬ì— í•œë²ˆì”© ë²„ì „ ì—…ë°ì´íŠ¸ê°€ ì´ë£¨ì–´ì§€ë©° ì‹ ê¸°ëŠ¥, ë²„ê·¸ ìˆ˜ì •ì´ ë¹ ë¦„ (ì—´ë¦° PRì´ ì—†ëŠ” ì •ë„)
  - Recoilì— ë¹„í•´ ìš©ëŸ‰ì´ ë§¤ìš° ì ìŒ
  - Typescript ê¸°ë°˜
  - unique í•œ í‚¤ ê°’ì„ ìƒì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.(ë‚´ë¶€ì—ì„œëŠ” weakMapì‚¬ìš©)
  - suspenseÂ ì§€ì›
  - devtool ê°•ë ¥í•¨.
- recoil
  - facebookì—ì„œ ê°œë°œ
  - ë¦¬ì•¡íŠ¸ "ì™¸ë¶€ ìš”ì¸" ìœ¼ë¡œì¨ì˜ ìƒíƒœê°€ ì•„ë‹ˆë¼ ë‚´ë¶€ stateë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ìŠ¤ì¼€ì¤„ëŸ¬ì— ì ‘ê·¼ ê°€ëŠ¥
  - snapshot ê¸°ëŠ¥ì„ ì œê³µí•˜ê³  ìˆìœ¼ë©°, ì´ì „ ìƒíƒœê°’ìœ¼ë¡œ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤.
  - persist: recoil-persist
    - atomì„ ìƒì„±í•  ë•Œ keyë¥¼ ë„£ëŠ” ì´ìœ  (unique keyë¥¼ í†µí•´ ë””ë²„ê¹…, persist ê°€ëŠ¥)
  - ì—…ë°ì´íŠ¸ ì£¼ê¸°ê°€ ê¸¸ë‹¤. ğŸ¥¶

## Proxy (MobX, Valtio, overmind)

![Untitled](./assets/10/Untitled11.png)

![Untitled](./assets/10/Untitled12.png)

ì „ì²´Â ìƒíƒœ(Proxy)ë“¤ì„ ëª¨ì•„ë†“ê³  ì—‘ì„¸ìŠ¤ë¥¼ ì œê³µí•˜ë©°, ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¼ë¶€ ìƒíƒœë¥¼Â ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ì—…ë°ì´íŠ¸ë¥¼ ì¸ì§€í•˜ëŠ” íŒ¨í„´

- Valtio
  - ë Œë”ë§ ìµœì í™” ë°©ì‹ì„ Hooks ì‚¬ìš©
  - [https://itchallenger.tistory.com/631](https://itchallenger.tistory.com/631)
  - [https://itchallenger.tistory.com/632](https://itchallenger.tistory.com/632)
- Mobx
  - ê³ ì°¨í•¨ìˆ˜(hoc) í•¨ìˆ˜ë¥¼ ì‚¬ìš©

## Server State(react-query, swr)

- react-query
  - [react-query](https://seungahhong.github.io/blog/2022/12/2022-12-30-react-query/)
  - [react-query-v4](https://seungahhong.github.io/blog/2023/06/2023-06-30-react-query-v4/)
  - [react-query-v5](https://seungahhong.github.io/blog/2023/07/2023-07-23-react-query-v5/)
- SWR
  - [SWR](https://seungahhong.github.io/blog/2022/03/2022-03-30-SWR/)

## XState

- íŠ¹ì •í•œ ìƒíƒœë“¤ì— ë”°ë¼ ë™ì‘ì„ ë‹¬ë¦¬í•´ì•¼ í•˜ëŠ” ê²½ìš°, ìƒíƒœì˜ ê°œìˆ˜ì— ë”°ë¼ ë³µì¡ë„ê°€ ë§¤ìš° ì¦ê°€í•˜ê²Œ ë˜ëŠ”ë°, ì´ëŸ° ìƒí™©ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ FSM(ìœ í•œ ìƒíƒœ ê¸°ê³„)ì— ì œí•œëœ êµ¬ì¡°ì™€ ëª‡ ê°€ì§€ ì œì•½ìœ¼ë¡œ ë³µì¡í•˜ê²Œ ì–½íŒ ì½”ë“œë¥¼ ì •ë¦¬í•˜ê¸° ìœ„í•œ ê¸°ìˆ  íŒ¨í„´ì´ ì‚¬ìš©ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬
- íŠ¹íˆ, ë³µì¡í•œ ìƒíƒœ ë³€í™”/íë¦„ì„ flowchartë¡œ ë„ì‹í™”ê°€ ê°€ëŠ¥í•´ì„œ ê°œë°œ ê´€ë ¨ ë‹´ë‹¹ìë“¤ê³¼ í˜‘ì—…ì‹œ íš¨ìœ¨ì ì¸ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì´ ê°€ëŠ¥

![Untitled](./assets/10/Untitled13.png)

- ì¼ë°˜ì ìœ¼ë¡œ FSMì€ ë‹¤ì„¯ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.([ë¬¸ì„œ](https://xstate.js.org/docs/about/concepts.html#finite-state-machines))

  - í•˜ë‚˜ì˜ ì´ˆê¸° ìƒíƒœ(AnÂ **initial state)**
  - ìœ í•œê°œì˜ ìƒíƒœ(A finite number ofÂ **states**)
  - ìœ í•œê°œì˜ ì´ë²¤íŠ¸(A finite number ofÂ **events**)
  - í˜„ì¬ ìƒíƒœì™€ ì´ë²¤íŠ¸ë¡œ ë‹¤ìŒ ìƒíƒœë¥¼ ê²°ì •í•˜ëŠ” ì „ì´ í•¨ìˆ˜(AÂ **transition function**Â that determines the next state given the current state and event)
  - ìœ í•œ ê°œì˜ ìµœì¢… ìƒíƒœ(A (possibly empty) set ofÂ **final states**)
  - ì˜ˆì œ ì½”ë“œ
    ![Untitled](./assets/10/Untitled14.png)

    ```tsx
    // ì´ˆê¸° ìƒíƒœ: idle
    // ìœ í•œê°œì˜ ìƒíƒœ: idle, loading, resolved, rejected
    // ìœ í•œê°œì˜ ì´ë²¤íŠ¸: fetching, success, failure
    // ì „ì´ í•¨ìˆ˜: fetching: idle â†’ loading, success: loading â†’ resolved, failure: loading â†’ rejected
    // ìµœì¢… ìƒíƒœ: ìµœì¢… ìƒíƒœ: resolved

    const fetchMachine = createMachine({
      id: 'fetch',
      initial: 'idle',
      states: {
        idle: {
          on: {
            FETCHING: {
              target: 'loading',
            },
          },
        },
        loading: {
          on: {
            SUCCESS: {
              target: 'resolved',
            },
            FAILURE: {
              target: 'rejected',
            },
          },
        },
        resolved: {
          type: 'final',
        },
        rejected: {},
      },
    });
    ```

- ì£¼ìš” íŠ¹ì§•
  **ì„¤ì¹˜**

  ```bash
  npm i xstate @xstate/react
  ```

  **ìƒíƒœ**

  - initial: ì´ˆê¸° ìƒíƒœê°’(states ê°ì²´ì˜ í‚¤ ì†ì„±)
  - states: ìƒíƒœ ë…¸ë“œ
    - empty, hold ê°’ì´ ë‚´ë¶€ ë…¸ë“œê°’ì„ ê°€ë¦¬í‚¨ë‹¤.

  ```tsx
  const cartMachine = createMachine({
    id: 'cart',
    initial: 'empty',
    states: {
      empty: {},
      hold: {},
    },
  });
  ```

  **ì´ë²¤íŠ¸**

  - on: ìƒíƒœ ë…¸ë“œì•ˆì— on ìœ¼ë¡œ ê°ì²´ë“¤ ë§Œë“¤ì–´ì„œ ì´ë²¤íŠ¸ ìƒì„±
  - empty ìƒíƒœì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ì´ë²¤íŠ¸ ADD_ITEM ì¶”ê°€

  ```tsx
  // ì„ ì–¸
  const cartMachine = createMachine({
    id: 'cart',
    initial: 'empty',
    states: {
      empty: {
        on: {
          ADD_ITEM: {
            target: 'hold',
          },
        },
      },
      hold: {},
    },
  });

  // ì‹¤í–‰
  import { useMachine } from '@xstate/react';

  const Cart = () => {
    const [state, send] = useMachine(cartMachine);
    // State { value: { 'empty ' } ... }

    return (
      <div>
        <p>{state.value}</p>
        <button
          onClick={() => {
            send('ADD_ITEM');
          }}
        >
          Add Item
        </button>
      </div>
    );
  };
  ```

  **context, action**

  - context: ìƒíƒœ ë…¸ë“œê°’ê³¼ êµ¬ë³„ë˜ëŠ” ë¶€ê°€ì ì¸ ë°ì´í„°
  - action: ì»¨í…ìŠ¤íŠ¸ì˜ ê°’ì„ ë³€ê²½í•˜ê±°ë‚˜ ì¶”ê°€í•  ë•Œ ì‚¬ìš©
    - assign: spread ì—°ì‚°ì„ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ, í¸ì˜ìƒ assign í•¨ìˆ˜ë¥¼ ì œê³µ

  ```tsx
  // ì„ ì–¸
  const cartMachine = createMachine<Context>(
    {
      id: 'cart',
      initial: 'empty',
      context: {
        items: [],
      },
      states: {
        empty: {
          on: {
            ADD_ITEM: {
              target: 'hold',
              actions: ['addItem'],
            },
          },
        },
        hold: {},
      },
    },
    {
      actions: {
        addItem: assign({
          items: ({ items }, event) => [...items, event.item],
        }),
      },
    },
  );
  ```

  **guards, always**
  íŠ¹ì • ìƒíƒœë¡œ ì „ì´ëì„ ë•ŒÂ **ìƒí™©**ì— ë”°ë¼ ë‹¤ë¥¸ ìƒíƒœë¡œ ê³§ë°”ë¡œ ì „ì´ë˜ì•¼ í•  ê²½ìš°ì— ì‚¬ìš©ì´ ê°€ëŠ¥

  ```tsx
  {
    actions: {
      // ...
    },
    guards: {
      isEmpty: ({ items }) => items.length === 0
    }
  }

  hold: {
    always: { // hold ìƒíƒœì—ì„œ ì „ì´ ë  ë  ê²½ìš° guards í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì„œ ì°¸ì¼ê²½ìš° ë‹¤ë¥¸ ìƒíƒœë¡œ ë‹¤ì‹œ ì „ì´
      target: 'empty',
      cond: 'isEmpty',
    },
    on: {
  	  OPEN: [
  	    { target: 'opened', cond: 'isAdmin' },
  	    { target: '.error', cond: 'shouldAlert' },
  	    { target: '.idle' }
  	  ]
  	}
  }
  ```

  **invoke**
  XStateëŠ” ë¹„ë™ê¸° ì‘ì—…ì„ í¬í•¨í•´ ìƒíƒœ ê¸°ê³„ë¥¼ ì™¸ë¶€ì™€ ì—°ë™í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ invokeë¥¼ ì œê³µ

  ```tsx
  purchasing: {
    invoke: {
      id: 'purchasing',
      src: (context) => postPurchase(context.items),
      onDone: {
        target: 'done',
        actions: ['purchased'],
      },
      onError: {
        // ...
      }
    },
  },
  ```

  **service**
  ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì™„ë£Œëœ ì´í›„ì— ì „ë‹¬ëœ ì½œë°± í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ë°›ì„ ê²½ìš° serviceë¥¼ í†µí•´ì„œ ì„¤ì •ì´ ê°€ëŠ¥

  ```tsx
  const [state, send, service] = useMachine(cartMachine);

  useEffect(() => {
    const listener = () => console.log('done');

    service.onDone(listener);

    return () => service.off(listener);
  }, []);
  ```

# ê·¸ë ‡ë‹¤ë©´.. ì–´ë–¤ ê²½ìš°ì— ìƒíƒœê´€ë¦¬ë¥¼ ì¨ì•¼í• ê¹Œ??

## npm ìƒíƒœê´€ë¦¬ ë™í–¥ -> redux ğŸ‘, react-query ğŸ‘

- client state: redux > zustand > XState > mobx > jotai > recoil > valtio

- server state: react-query > swr

## ì •ì ì¸ ë°ì´í„° ìœ„ì£¼ ì²˜ë¦¬, ì—…ë°ì´íŠ¸ ìì£¼ ë°œìƒí•˜ì§€ ì•Šì„ ê²½ìš° â†’ context API ğŸ‘

## ìƒí–¥ì‹ ì ‘ê·¼ë²•, ë©”ëª¨ë¦¬ ì‚¬ìš©ì„ ìµœì í™”, ë¦¬ì•¡íŠ¸ ìƒíƒœê³„ë§Œ ì‚¬ìš©í•  ê²½ìš° â†’ jotai ğŸ‘

- recoil: ë¦¬ì•¡íŠ¸ "ì™¸ë¶€ ìš”ì¸" ìœ¼ë¡œì¨ì˜ ìƒíƒœê°€ ì•„ë‹ˆë¼ ë‚´ë¶€ stateë¥¼ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ìŠ¤ì¼€ì¤„ëŸ¬ì— ì ‘ê·¼ ê°€ëŠ¥(facebook ìì²´ ë¼ì´ë¸ŒëŸ¬ë¦¬)
- jotai: Typescript ê¸°ë°˜, Recoilì— ë¹„í•´ ìš©ëŸ‰ì´ ë§¤ìš° ì ìŒ, unique í‚¤ í•„ìš”í•˜ì§€ ì•ŠìŒ

## í•˜í–¥ì‹ ì ‘ê·¼ë²•, ë§ì€ ëª¨ë“ˆì—ì„œ ë°ì´í„°ë¥¼ ê³µìœ  í•´ì•¼í•  ê²½ìš° â†’ redux ğŸ‘

- Redux: ë‹¤ì–‘í•œ middleware ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œê³µ, ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
- zustand: provider ë˜í•‘ í•„ìš”ì—†ìŒ, ìš©ëŸ‰/ì½”ë“œ ì–‘ì´ ë¦¬ë•ìŠ¤ë³´ë‹¤ ì‘ë‹¤

## ìë™ ìµœì í™”(proxy) ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê²½ìš° â†’ valtio ğŸ‘, mobx

- valtio: react hook ì§€ì›
- mobxëŠ” ê°ì²´ì§€í–¥ ì»´í¬ë„ŒíŠ¸, hoc ë°©ì‹ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©, decorator ì§€ì›

## flowchart ë„ì‹í™”ë¥¼ í†µí•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì¤‘ìš”í•  ê²½ìš° â†’ XState ğŸ‘

## ì„œë²„ ìƒíƒœê´€ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ê²½ìš° â†’ react-query ğŸ‘, swr

- react-query: React ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì„œë²„ ìƒíƒœë¥¼ ê°€ì ¸ì˜¤ê³ , ìºì‹±í•˜ê³ , ë™ê¸°í™”í•˜ê³ , ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì„ ì‰½ê²Œ í•´ ì¤€ë‹¤. graphqlì„ ì¶”ê°€ì ìœ¼ë¡œ ì œê³µí•œë‹¤.
- swr: ë¨¼ì € ìºì‹œì—ì„œ ë°ì´í„°ë¥¼ ë°˜í™˜í•œ ë‹¤ìŒ, ì„œë²„ì— ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ìš”ì²­ì„ ë³´ë‚´ê³ , ë§ˆì§€ë§‰ìœ¼ë¡œ ìµœì‹  ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ì „ëµì´ë‹¤. nextjs í™˜ê²½ ì„¸íŒ…ì´ ìš©ì´í•˜ë‹¤.

## GrpahQL ê°œë°œ í™˜ê²½ì¸ ê²½ìš° â†’ Apollo Client ğŸ‘

# ì°¸ê³ í˜ì´ì§€

- [18 Best React State Management Libraries in 2023](https://fe-tool.com/awesome-react-state-management)
- [ë¦¬ì•¡íŠ¸ ìƒíƒœê´€ë¦¬ íŠ¸ë Œë“œì˜ ë³€í™”](https://www.nextree.io/riaegteu-sangtaegwanri-teurendeuyi-byeonhwa-2/)
- [ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ - Jotai](https://velog.io/@sasha1107/ìƒíƒœ-ê´€ë¦¬-ë¼ì´ë¸ŒëŸ¬ë¦¬-Jotai)
- [[ë²ˆì—­] Jotai vs Recoil: ì–´ë–¤ ì°¨ì´ì ì´ ìˆë‚˜ìš”?](https://parang.gatsbyjs.io/react/2022-react-16/)
- [Jotai vs. Recoil: What are the differences? - LogRocket Blog](https://blog.logrocket.com/jotai-vs-recoil-what-are-the-differences/)
- [Can valtio replace jotai completely? Â· Issue #141 Â· pmndrs/valtio](https://github.com/pmndrs/valtio/issues/141#issuecomment-891214314)
- [[ë²ˆì—­] ë¦¬ì•¡íŠ¸ ìƒíƒœ ê´€ë¦¬ì˜ ìƒˆë¡œìš´ íë¦„](https://medium.com/@yujso66/ë²ˆì—­-ë¦¬ì•¡íŠ¸-ìƒíƒœ-ê´€ë¦¬ì˜-ìƒˆë¡œìš´-íë¦„-6e5ed0022e39)
- [Finite state machine & statecharts - XState â€“ í™”í•´ ë¸”ë¡œê·¸ | ê¸°ìˆ  ë¸”ë¡œê·¸](https://blog.hwahae.co.kr/all/tech/6707)
- [ë¦¬ì•¡íŠ¸ë¡œ XState ì‹œì‘í•˜ê¸°](https://itchallenger.tistory.com/entry/ë¦¬ì•¡íŠ¸ë¡œ-XState-ì‹œì‘í•˜ê¸°)
- [ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë§Œë“  ìœ í•œ ìƒíƒœ ê¸°ê³„ XState | ì¹´ì¹´ì˜¤ì—”í„°í…Œì¸ë¨¼íŠ¸ FE ê¸°ìˆ ë¸”ë¡œê·¸](https://fe-developers.kakaoent.com/2022/220922-make-cart-with-xstate/)
